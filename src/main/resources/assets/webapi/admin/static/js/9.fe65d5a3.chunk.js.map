{"version":3,"sources":["views/Integrations/Nucleus/Kits.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx","components/ItemStack/index.tsx"],"names":["DataView","Object","__WEBPACK_IMPORTED_MODULE_8__components_DataView__","Kits","_super","props","_this","call","this","state","newKitCmd","newItemType","newItemAmount","renderCommands","bind","renderStacks","handleChange","__WEBPACK_IMPORTED_MODULE_6__components_Util__","__extends","prototype","componentDidMount","requestCatalog","__WEBPACK_IMPORTED_MODULE_7__types__","Item","addCmd","view","kit","cmd","startsWith","substring","save","commands","concat","removeCmd","cmdIndex","filter","__","i","addStack","stacks","type","id","name","quantity","removeStack","index","render","_t","t","__WEBPACK_IMPORTED_MODULE_0_react__","canEdit","canDelete","icon","title","filterTitle","createTitle","fields","label","create","required","cost","edit","cooldown","wide","map","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","key","color","content","onRemove","e","on","position","trigger","size","action","onClick","placeholder","value","onChange","item","__WEBPACK_IMPORTED_MODULE_5__components_ItemStack__","Field","fluid","selection","search","control","options","itemTypes","Input","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","api","types","dispatch","__WEBPACK_IMPORTED_MODULE_4__actions__","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","DataTable","page","newData","changePage","doHandleChange","__WEBPACK_IMPORTED_MODULE_4__Util__","setState","__assign","_a","event","preventDefault","onEdit","obj","keys","forEach","__WEBPACK_IMPORTED_MODULE_0_lodash__","console","log","shouldComponentUpdate","nextProps","nextState","list","actions","f","maxPage","Math","ceil","length","min","listPage","slice","thisRef","changes","__WEBPACK_IMPORTED_MODULE_1_react__","style","marginTop","fitted","striped","stackable","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","hasActions","Body","__WEBPACK_IMPORTED_MODULE_7__TableRow__","idFunc","tableRef","editing","isEditing","d","v","onSave","onDelete","__WEBPACK_IMPORTED_MODULE_5__Pagination__","p","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","Pagination","from","max","to","pages","push","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","active","DataTableHeader","Header","Row","field","HeaderCell","TableRow","renderEdit","col","j","Cell","collapsing","__WEBPACK_IMPORTED_MODULE_2__Util__","disabled","updating","loading","endpoint","objId","noDetails","data","_state","ownProps","replace","creating","perm","split","perms","permissions","mapStateToProps","requestList","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","requestDetails","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","mapDispatchToProps","details","endEdit","delete","createTable","__WEBPACK_IMPORTED_MODULE_6__DataTable__","static","interval","setInterval","componentWillUnmount","clearInterval","checks","regsValid","expandRef","val","func_1","createFields","filterFields","ff","find","filterName","dataVal","filterValue","indexOf","RegExp","test","every","check","cols","origActions","DT","basic","doubling","columns","__WEBPACK_IMPORTED_MODULE_8__Util__","Column","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","button","createButton","onCreate","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","valid","values","onFilterChange","newObj","CreateForm","canCreate","createName","fieldGroups","newField","isGroup","only","second","first","fg","renderField","Group","widths","FilterForm","__WEBPACK_IMPORTED_MODULE_3__Util__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","error","visible","multiple","itemStackStyle","display","verticalAlign","margin","padding","border","borderRadius","ItemStackComp","compact","floated","marginBottom","durability","unbreakable","progress","percent","useLimit","enchantments","enchant","Detail","level","spawn","potionEffects","effect","num","amplifier","getAmplifier","foodRestoration","burningFuel"],"mappings":"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","file":"static/js/9.fe65d5a3.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Button, Dropdown, Form, Input, Label, Popup } from \"semantic-ui-react\"\n\nimport { AppAction, CatalogRequestAction, requestCatalog } from \"../../../actions\"\nimport ItemStack from \"../../../components/ItemStack\"\nimport { handleChange, HandleChangeFunc, renderCatalogTypeOptions } from \"../../../components/Util\"\nimport { CatalogType, NucleusKit } from \"../../../fetch\"\nimport { AppState, CatalogTypeKeys, DataViewRef } from \"../../../types\"\n\nimport DataViewFunc from \"../../../components/DataView\"\nconst DataView = DataViewFunc(\"nucleus/kit\", \"name\")\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\titemTypes: CatalogType[]\n\trequestCatalog: (type: string) => CatalogRequestAction\n}\n\ninterface OwnState {\n\tnewKitCmd: string\n\tnewItemType: string\n\tnewItemAmount: number\n}\n\nclass Kits extends React.Component<Props, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewKitCmd: \"\",\n\t\t\tnewItemType: \"\",\n\t\t\tnewItemAmount: 1,\n\t\t}\n\n\t\tthis.renderCommands = this.renderCommands.bind(this)\n\t\tthis.renderStacks = this.renderStacks.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, null)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.requestCatalog(CatalogTypeKeys.Item)\n\t}\n\n\taddCmd(view: DataViewRef<NucleusKit>, kit: NucleusKit) {\n\t\tlet cmd = this.state.newKitCmd\n\t\tif (cmd.startsWith(\"/\")) {\n\t\t\tcmd = cmd.substring(1)\n\t\t}\n\n\t\tview.save(kit, {\n\t\t\tcommands: kit.commands.concat(cmd)\n\t\t})\n\t}\n\n\tremoveCmd(view: DataViewRef<NucleusKit>, kit: NucleusKit, cmdIndex: number) {\n\t\tview.save(kit, {\n\t\t\tcommands: kit.commands.filter((__, i) => i !== cmdIndex)\n\t\t})\n\t}\n\n\taddStack(view: DataViewRef<NucleusKit>, kit: NucleusKit) {\n\t\tview.save(kit, {\n\t\t\tstacks: kit.stacks.concat({\n\t\t\t\ttype: {\n\t\t\t\t\tid: this.state.newItemType,\n\t\t\t\t\tname: \"\",\n\t\t\t\t},\n\t\t\t\tquantity: this.state.newItemAmount ? this.state.newItemAmount : 1\n\t\t\t})\n\t\t})\n\t}\n\n\tremoveStack(view: DataViewRef<NucleusKit>, kit: NucleusKit, index: number) {\n\t\tview.save(kit, {\n\t\t\tstacks: kit.stacks.filter((__, i) => i !== index)\n\t\t})\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<DataView\n\t\t\t\tcanEdit\n\t\t\t\tcanDelete\n\t\t\t\ticon=\"wrench\"\n\t\t\t\ttitle={_t(\"Kits\")}\n\t\t\t\tfilterTitle={_t(\"FilterKits\")}\n\t\t\t\tcreateTitle={_t(\"CreateKit\")}\n\t\t\t\tfields={{\n\t\t\t\t\tname: {\n\t\t\t\t\t\tlabel: _t(\"Name\"),\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\tfilter: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t},\n\t\t\t\t\tcost: {\n\t\t\t\t\t\tlabel: _t(\"Cost\"),\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t},\n\t\t\t\t\tcooldown: {\n\t\t\t\t\t\tlabel: _t(\"Cooldown\"),\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t},\n\t\t\t\t\tcommands: {\n\t\t\t\t\t\tlabel: _t(\"Commands\"),\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t\tview: this.renderCommands,\n\t\t\t\t\t},\n\t\t\t\t\tstacks: {\n\t\t\t\t\t\tlabel: _t(\"Stacks\"),\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t\tview: this.renderStacks,\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n\n\trenderCommands(kit: NucleusKit, view: DataViewRef<NucleusKit>) {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{kit.commands.map((cmd, i) =>\n\t\t\t\t\t<Label\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\tcontent={\"/\" + cmd}\n\t\t\t\t\t\tonRemove={e => this.removeCmd(view, kit, i)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Popup\n\t\t\t\t\ton=\"click\"\n\t\t\t\t\tposition=\"top right\"\n\t\t\t\t\ttrigger={<Button color=\"green\" icon=\"plus\" size=\"mini\" />}\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"newKitCmd\"\n\t\t\t\t\t\t\taction={{\n\t\t\t\t\t\t\t\tcolor: \"green\",\n\t\t\t\t\t\t\t\tcontent: _t(\"Add\"),\n\t\t\t\t\t\t\t\tonClick: () => this.addCmd(view, kit),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder=\"/say Hi\"\n\t\t\t\t\t\t\tvalue={this.state.newKitCmd}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n\n\trenderStacks(kit: NucleusKit, view: DataViewRef<NucleusKit>) {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{kit.stacks.map((item, i) =>\n\t\t\t\t\t<ItemStack\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\titem={item}\n\t\t\t\t\t\tonRemove={e => this.removeStack(view, kit, i)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Popup\n\t\t\t\t\ton=\"click\"\n\t\t\t\t\tposition=\"top right\"\n\t\t\t\t\ttrigger={<Button color=\"green\" icon=\"plus\" size=\"mini\" />}\n\t\t\t\t\tcontent={<Form>\n\t\t\t\t\t\t<Form.Field\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\tname=\"newItemType\"\n\t\t\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\t\t\tplaceholder={_t(\"Type\")}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\toptions={renderCatalogTypeOptions(this.props.itemTypes)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Input\n\t\t\t\t\t\t\tname=\"newItemAmount\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tplaceholder={_t(\"Amount\")}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\taction={{\n\t\t\t\t\t\t\t\tcolor: \"green\",\n\t\t\t\t\t\t\t\tcontent: _t(\"Add\"),\n\t\t\t\t\t\t\t\tonClick: () => this.addStack(view, kit),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form>}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\titemTypes: state.api.types[CatalogTypeKeys.Item],\n\t}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {\n\t\trequestCatalog: (type: string) => dispatch(requestCatalog(type)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n\ttranslate(\"Integrations.Nucleus\")(Kits)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Integrations/Nucleus/Kits.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\tObject.keys(this.props.fields).forEach(name => {\n\t\t\t\tif (!this.props.fields[name].edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tconsole.log(newData)\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = Object.keys(this.props.fields).map(f => this.props.fields[f]).filter(f => f.view)\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: { ...this.state.newData, ...changes }\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{ marginTop: \"2em\" }}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{listPage.map((obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Dispatch } from \"redux\"\nimport { Grid, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport {\n\trequestChange, requestCreate, requestDelete, requestDetails, requestList,\n\tsetFilter\n} from \"../../actions/dataview\"\nimport { DataViewState } from \"../../reducers/dataview\"\nimport { AppState, DataFieldRaw, DataTableRef, DataViewRef, IdFunction } from \"../../types\"\nimport CreateForm from \"../CreateForm\"\nimport DataTable, { Props as DataTableProps } from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport { checkPermissions } from \"../Util\"\n\nimport { DispatchProps, FullProps, OwnProps, OwnState, StateProps } from \"./types\"\n\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\n\n\tinterval: NodeJS.Timer\n\n\tconstructor(props: FullProps<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.endEdit = this.endEdit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcreateTable() { return DataTable as React.ComponentClass<DataTableProps<T>> }\n\n\tcomponentDidMount() {\n\t\tif (!this.props.static) {\n\t\t\tthis.props.requestList()\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval) {\n\t\t\tclearInterval(this.interval)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: FullProps<T>, nextState: OwnState<T>) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data\n\t}\n\n\t// Create a new data entry\n\tcreate(data: T) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data: T) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data: T | null) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data: T, newData: any) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.endEdit()\n\t}\n\n\t// End editing an entry\n\tendEdit() {\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data: T) {\n\t\tthis.props.requestDelete(data)\n\t}\n\n\trender() {\n\t\tconst checks: ((val: T) => boolean)[] = []\n\t\tlet regsValid = false\n\n\t\t// Reference that we pass to our various functions\n\t\tconst expandRef = (tableRef: DataTableRef): DataViewRef<T> =>\n\t\t\t({\n\t\t\t\t...tableRef,\n\t\t\t\tcreate: this.create,\n\t\t\t\tdetails: this.details,\n\t\t\t\tsave: this.save,\n\t\t\t\tedit: this.edit,\n\t\t\t\tendEdit: this.endEdit,\n\t\t\t\tdelete: this.delete,\n\t\t\t})\n\n\t\t// Get all the fields of the table\n\t\tconst fields: { [x: string]: DataFieldRaw<T> } = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet val: DataFieldRaw<T> = {\n\t\t\t\tname: name,\n\t\t\t\tview: true\n\t\t\t}\n\n\t\t\t// If the column is a string use that as the label\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tval.label = value\n\t\t\t} else if (typeof value === \"function\") {\n\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => value(obj, expandRef(tableRef))\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tval = { ...val, ...value }\n\t\t\t\tif (typeof value.view === \"function\") {\n\t\t\t\t\tconst func = value.view\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => func(obj, expandRef(tableRef))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn val\n\t\t})\n\n\t\t// Get all the fields for the create form\n\t\t// Get all the fields for the filter form\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tObject.keys(fields).forEach(f => {\n\t\t\tif (fields[f].create) { createFields[f] = fields[f] }\n\t\t\tif (fields[f].filter) { filterFields[f] = fields[f] }\n\t\t})\n\n\t\ttry {\n\t\t\tObject.keys(this.props.filter).forEach(name => {\n\t\t\t\tconst value = this.props.filter[name]\n\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = Object.keys(filterFields).map(f => filterFields[f]).find(f => f.filterName === name)\n\t\t\t\t\t|| filterFields[name]\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t}\n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\t// Otherwise just use a normal regex check\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tchecks.push((dataVal: T) => {\n\t\t\t\t\t\tconst v = val(dataVal)\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tchecks.push((dataVal: T) => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true\n\t\t} catch {\n\t\t\tregsValid = false\n\t\t}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = this.props.list.filter(data => {\n\t\t\treturn !regsValid || checks.every(check => check(data))\n\t\t})\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, expandRef(tableRef))\n\t\t}\n\n\t\tconst DT = this.createTable()\n\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle &&\n\t\t\t\t\t\tcheckPermissions(this.props.perms, this.props.perm.concat(\"create\")) &&\n\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tonCreate={(obj: any, tableRef: DataTableRef) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DT\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tonEdit={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onEdit ?\n\t\t\t\t\t\t\tthis.props.onEdit(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, tableRef) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={this.props.canEdit && checkPermissions(this.props.perms, this.props.perm.concat(\"change\"))}\n\t\t\t\t\tcanDelete={this.props.canDelete && checkPermissions(this.props.perms, this.props.perm.concat(\"delete\"))}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\n\t\tconst state: DataViewState<T> = _.get(_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"))\n\n\t\treturn {\n\t\t\tcreating: state ? state.creating : false,\n\t\t\tfilter: state && state.filter ? state.filter : {},\n\t\t\tlist: state ? state.list : [],\n\t\t\ttypes: _state.api.types,\n\t\t\tidFunc: id,\n\t\t\tperm: endpoint.split(\"/\"),\n\t\t\tperms: _state.api.permissions,\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps<T>(endpoint: string, id: IdFunction<T>, noDetails: boolean) {\n\treturn (dispatch: Dispatch<AppAction>) => {\n\t\treturn {\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\n\t\t\trequestChange: (data: T, newData: object) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\n\t\t\tsetFilter: (filter: string, value: string) => dispatch(setFilter(endpoint, filter, value)),\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2),\n\t\t}\n\t}\n}\n\nexport default function createDataView<T>(endpoint: string, objId: string | IdFunction<T>, noDetails?: boolean) {\n\tif (!objId) {\n\t\tobjId = \"id\"\n\t}\n\tconst id = typeof objId === \"function\" ? objId : (data: T) => _.get(data, objId as string)\n\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\n\t\tmapStateToProps<T>(endpoint, id),\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\n\t)(DataView)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Button, Dropdown, Form, Header, Icon, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle: string\n\tcreating: boolean\n\tonCreate: (data: any, view: DataTableRef) => void\n\tbutton?: string\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n}\n\ninterface OwnState {\n\tnewData: any\n}\n\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\tcreate() {\n\t\tconst data = {}\n\t\tObject.keys(this.state.newData).forEach(key => {\n\t\t\t_.set(data, key, this.state.newData[key])\n\t\t})\n\n\t\tthis.props.onCreate(data, {\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: this.setState,\n\t\t\thandleChange: this.handleChange,\n\t\t})\n\t}\n\n\tcanCreate(): boolean {\n\t\treturn Object.keys(this.props.fields).every(name => {\n\t\t\tconst field = this.props.fields[name]\n\t\t\tconst key = field.createName ? field.createName : name\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon fitted name=\"plus\" /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form loading={creating}>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>) {\n\t\tconst state = this.state.newData\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\tstate: state,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid={true}\n\t\t\t\t\tselection={true}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\trequired={field.required}\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tvalue={state[field.name]}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\trequired={field.required}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Dropdown, Form, Header, Icon, Message, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> {\n\ttitle: string\n\tvalid: boolean\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n\tvalues: {\n\t\t[x: string]: string | string[]\n\t}\n\tonFilterChange: (key: string, value: string) => void\n}\n\nclass FilterForm<T> extends React.Component<Props<T>> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\n\t\treturn nextProps.values !== this.props.values ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.valid !== this.props.valid\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\t\t\t\t\t<Message\n\t\t\t\t\t\terror\n\t\t\t\t\t\tvisible={!valid}\n\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>, value: string | string[], error: boolean) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\tstate: this.props.values,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = []\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tmultiple\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\terror={error}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\tname={field.name}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx","import * as React from \"react\"\nimport { Button, ButtonProps, Label, Progress } from \"semantic-ui-react\"\n\nimport { ItemStack, PotionEffect } from \"../../fetch\"\nimport { formatRange } from \"../Util\"\n\nconst getRoman: (num: number) => string = (num: number) => {\n\tif (num === 1) { return \"I\" }\n\tif (num === 2) { return \"II\" }\n\tif (num === 3) { return \"III\" }\n\tif (num === 4) { return \"IV\" }\n\tif (num === 5) { return \"V\" }\n\treturn \"\"\n}\nconst getAmplifier: (effect: PotionEffect) => string = (effect: PotionEffect) => getRoman(effect.amplifier + 1)\n\nconst itemStackStyle = {\n\tdisplay: \"inline-block\",\n\tverticalAlign: \"top\",\n\tmargin: \"0.1em\",\n\tpadding: \"0.2em\",\n\tborder: \"1px solid rgba(34,36,38,.1)\",\n\tborderRadius: \".28571429rem\",\n}\n\nexport interface AppProps {\n\titem: ItemStack\n\tonRemove?: (event: React.MouseEvent<HTMLButtonElement>, data: ButtonProps) => void\n}\n\nclass ItemStackComp extends React.Component<AppProps> {\n\trender() {\n\t\tconst item: ItemStack = this.props.item\n\n\t\treturn (\n\t\t\t<div style={itemStackStyle}>\n\t\t\t\t<strong>{item.type.name}</strong>\n\t\t\t\t{this.props.onRemove &&\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcompact\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\tfloated=\"right\"\n\t\t\t\t\t\tonClick={this.props.onRemove}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<div style={{ color: \"gray\", marginBottom: \"0.5em\" }}>{item.type.id}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{item.durability &&\n\t\t\t\t\t\t\t(item.durability.unbreakable ?\n\t\t\t\t\t\t\t\t<Label size=\"tiny\">Unbreakable</Label>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Progress\n\t\t\t\t\t\t\t\t\tprogress\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tpercent={formatRange(item.durability.durability, item.useLimit ? item.useLimit : 0)}\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"0 0 .5em 0\" }}\n\t\t\t\t\t\t\t\t/>)}\n\t\t\t\t\t\t{item.quantity > 1 &&\n\t\t\t\t\t\t\t<Label size=\"tiny\" color=\"blue\">\n\t\t\t\t\t\t\t\tx{item.quantity}\n\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t{item.enchantments &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{item.enchantments.map(enchant =>\n\t\t\t\t\t\t\t\t\t<Label color=\"purple\" size=\"tiny\" key={enchant.id}>\n\t\t\t\t\t\t\t\t\t\t{enchant.name}\n\t\t\t\t\t\t\t\t\t\t<Label.Detail>{enchant.level}</Label.Detail>\n\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{item.spawn &&\n\t\t\t\t\t\t\t<Label size=\"tiny\">\n\t\t\t\t\t\t\t\t{item.spawn.name}\n\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t{item.potionEffects &&\n\t\t\t\t\t\t\titem.potionEffects.map(effect =>\n\t\t\t\t\t\t\t\t<Label size=\"tiny\" color=\"brown\" key={effect.type.id}>\n\t\t\t\t\t\t\t\t\t{effect.type.name} {getAmplifier(effect)}\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t{item.foodRestoration &&\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\ticon=\"food\"\n\t\t\t\t\t\t\t\tcontent={item.foodRestoration}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t{item.burningFuel &&\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\ticon=\"fire\"\n\t\t\t\t\t\t\t\tcontent={item.burningFuel}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ItemStackComp\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ItemStack/index.tsx"],"sourceRoot":""}