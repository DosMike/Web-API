{"version":3,"sources":["views/ServerSettings/index.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx"],"names":["DataView","Object","__WEBPACK_IMPORTED_MODULE_5__components_DataView__","ServerSettings","_super","__extends","prototype","render","_this","this","_t","props","t","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","basic","info","Header","canEdit","icon","title","fields","key","label","value","edit","onSave","data","newData","view","requestSaveProperty","__assign","endEdit","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","state","dispatch","prop","__WEBPACK_IMPORTED_MODULE_4__actions_settings__","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","DataTable","call","page","changePage","bind","doHandleChange","handleChange","__WEBPACK_IMPORTED_MODULE_4__Util__","setState","_a","event","preventDefault","onEdit","obj","keys","forEach","name","__WEBPACK_IMPORTED_MODULE_0_lodash__","console","log","shouldComponentUpdate","nextProps","nextState","list","canDelete","actions","map","f","filter","maxPage","Math","ceil","length","min","listPage","slice","thisRef","changes","__WEBPACK_IMPORTED_MODULE_1_react__","style","marginTop","fitted","striped","stackable","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","hasActions","Body","i","__WEBPACK_IMPORTED_MODULE_7__TableRow__","idFunc","tableRef","editing","isEditing","d","v","onDelete","__WEBPACK_IMPORTED_MODULE_5__Pagination__","e","p","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","Pagination","from","max","to","pages","push","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","Item","onClick","active","DataTableHeader","Row","field","HeaderCell","TableRow","renderEdit","col","options","Field","fluid","selection","search","control","placeholder","onChange","Input","type","j","Cell","collapsing","wide","__WEBPACK_IMPORTED_MODULE_2__Util__","color","disabled","updating","loading","endpoint","objId","noDetails","id","_state","ownProps","replace","creating","types","api","perm","split","perms","permissions","mapStateToProps","requestList","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","requestDetails","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","mapDispatchToProps","details","create","save","delete","createTable","__WEBPACK_IMPORTED_MODULE_6__DataTable__","componentDidMount","static","interval","setInterval","componentWillUnmount","clearInterval","checks","regsValid","expandRef","val","func_1","createFields","filterFields","ff","find","filterName","dataVal","filterValue","indexOf","RegExp","test","every","check","cols","createTitle","filterTitle","origActions","DT","doubling","columns","__WEBPACK_IMPORTED_MODULE_8__Util__","concat","Column","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","button","createButton","onCreate","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","valid","values","onFilterChange","newObj","CreateForm","canCreate","createName","required","fieldGroups","newField","isGroup","only","second","first","fg","renderField","Group","widths","FilterForm","__WEBPACK_IMPORTED_MODULE_3__Util__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","error","visible","content","multiple"],"mappings":"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","file":"static/js/14.eb0c5938.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Message, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport { AppState, EServerProperty } from \"../../types\"\n\nimport { requestSaveProperty } from \"../../actions/settings\"\nimport DataViewFunc from \"../../components/DataView\"\n\nconst DataView = DataViewFunc(\"server/properties\", \"key\")\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\trequestSaveProperty: (prop: EServerProperty) => AppAction,\n}\n\ninterface OwnState {\n}\n\nclass ServerSettings extends React.Component<Props, OwnState> {\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Segment basic>\n\t\t\t\t\t<Message info>\n\t\t\t\t\t\t<Message.Header>{_t(\"InfoTitle\")}</Message.Header>\n\t\t\t\t\t\t<p>{_t(\"InfoText\")}</p>\n\t\t\t\t\t</Message>\n\t\t\t\t</Segment>\n\n\t\t\t\t<DataView\n\t\t\t\t\tcanEdit\n\t\t\t\t\ticon=\"cogs\"\n\t\t\t\t\ttitle={_t(\"ServerSettings\")}\n\t\t\t\t\tfields={{\n\t\t\t\t\t\tkey: {\n\t\t\t\t\t\t\tlabel: _t(\"Key\"),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tlabel: _t(\"Value\"),\n\t\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonSave={(data: EServerProperty, newData, view) => {\n\t\t\t\t\t\tthis.props.requestSaveProperty({\n\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\tvalue: newData.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tview.endEdit()\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {\n\t\trequestSaveProperty: (prop: EServerProperty): AppAction => dispatch(requestSaveProperty(prop)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(translate(\"ServerSettings\")(ServerSettings))\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/ServerSettings/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\tObject.keys(this.props.fields).forEach(name => {\n\t\t\t\tif (!this.props.fields[name].edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tconsole.log(newData)\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = Object.keys(this.props.fields).map(f => this.props.fields[f]).filter(f => f.view)\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: { ...this.state.newData, ...changes }\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{ marginTop: \"2em\" }}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{listPage.map((obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Dispatch } from \"redux\"\nimport { Grid, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport {\n\trequestChange, requestCreate, requestDelete, requestDetails, requestList,\n\tsetFilter\n} from \"../../actions/dataview\"\nimport { DataViewState } from \"../../reducers/dataview\"\nimport { AppState, DataFieldRaw, DataTableRef, DataViewRef, IdFunction } from \"../../types\"\nimport CreateForm from \"../CreateForm\"\nimport DataTable, { Props as DataTableProps } from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport { checkPermissions } from \"../Util\"\n\nimport { DispatchProps, FullProps, OwnProps, OwnState, StateProps } from \"./types\"\n\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\n\n\tinterval: NodeJS.Timer\n\n\tconstructor(props: FullProps<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.endEdit = this.endEdit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcreateTable() { return DataTable as React.ComponentClass<DataTableProps<T>> }\n\n\tcomponentDidMount() {\n\t\tif (!this.props.static) {\n\t\t\tthis.props.requestList()\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval) {\n\t\t\tclearInterval(this.interval)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: FullProps<T>, nextState: OwnState<T>) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data\n\t}\n\n\t// Create a new data entry\n\tcreate(data: T) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data: T) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data: T | null) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data: T, newData: any) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.endEdit()\n\t}\n\n\t// End editing an entry\n\tendEdit() {\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data: T) {\n\t\tthis.props.requestDelete(data)\n\t}\n\n\trender() {\n\t\tconst checks: ((val: T) => boolean)[] = []\n\t\tlet regsValid = false\n\n\t\t// Reference that we pass to our various functions\n\t\tconst expandRef = (tableRef: DataTableRef): DataViewRef<T> =>\n\t\t\t({\n\t\t\t\t...tableRef,\n\t\t\t\tcreate: this.create,\n\t\t\t\tdetails: this.details,\n\t\t\t\tsave: this.save,\n\t\t\t\tedit: this.edit,\n\t\t\t\tendEdit: this.endEdit,\n\t\t\t\tdelete: this.delete,\n\t\t\t})\n\n\t\t// Get all the fields of the table\n\t\tconst fields: { [x: string]: DataFieldRaw<T> } = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet val: DataFieldRaw<T> = {\n\t\t\t\tname: name,\n\t\t\t\tview: true\n\t\t\t}\n\n\t\t\t// If the column is a string use that as the label\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tval.label = value\n\t\t\t} else if (typeof value === \"function\") {\n\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => value(obj, expandRef(tableRef))\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tval = { ...val, ...value }\n\t\t\t\tif (typeof value.view === \"function\") {\n\t\t\t\t\tconst func = value.view\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => func(obj, expandRef(tableRef))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn val\n\t\t})\n\n\t\t// Get all the fields for the create form\n\t\t// Get all the fields for the filter form\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tObject.keys(fields).forEach(f => {\n\t\t\tif (fields[f].create) { createFields[f] = fields[f] }\n\t\t\tif (fields[f].filter) { filterFields[f] = fields[f] }\n\t\t})\n\n\t\ttry {\n\t\t\tObject.keys(this.props.filter).forEach(name => {\n\t\t\t\tconst value = this.props.filter[name]\n\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = Object.keys(filterFields).map(f => filterFields[f]).find(f => f.filterName === name)\n\t\t\t\t\t|| filterFields[name]\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t}\n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\t// Otherwise just use a normal regex check\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tchecks.push((dataVal: T) => {\n\t\t\t\t\t\tconst v = val(dataVal)\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tchecks.push((dataVal: T) => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true\n\t\t} catch {\n\t\t\tregsValid = false\n\t\t}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = this.props.list.filter(data => {\n\t\t\treturn !regsValid || checks.every(check => check(data))\n\t\t})\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, expandRef(tableRef))\n\t\t}\n\n\t\tconst DT = this.createTable()\n\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle &&\n\t\t\t\t\t\tcheckPermissions(this.props.perms, this.props.perm.concat(\"create\")) &&\n\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tonCreate={(obj: any, tableRef: DataTableRef) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DT\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tonEdit={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onEdit ?\n\t\t\t\t\t\t\tthis.props.onEdit(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, tableRef) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={this.props.canEdit && checkPermissions(this.props.perms, this.props.perm.concat(\"change\"))}\n\t\t\t\t\tcanDelete={this.props.canDelete && checkPermissions(this.props.perms, this.props.perm.concat(\"delete\"))}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\n\t\tconst state: DataViewState<T> = _.get(_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"))\n\n\t\treturn {\n\t\t\tcreating: state ? state.creating : false,\n\t\t\tfilter: state && state.filter ? state.filter : {},\n\t\t\tlist: state ? state.list : [],\n\t\t\ttypes: _state.api.types,\n\t\t\tidFunc: id,\n\t\t\tperm: endpoint.split(\"/\"),\n\t\t\tperms: _state.api.permissions,\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps<T>(endpoint: string, id: IdFunction<T>, noDetails: boolean) {\n\treturn (dispatch: Dispatch<AppAction>) => {\n\t\treturn {\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\n\t\t\trequestChange: (data: T, newData: object) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\n\t\t\tsetFilter: (filter: string, value: string) => dispatch(setFilter(endpoint, filter, value)),\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2),\n\t\t}\n\t}\n}\n\nexport default function createDataView<T>(endpoint: string, objId: string | IdFunction<T>, noDetails?: boolean) {\n\tif (!objId) {\n\t\tobjId = \"id\"\n\t}\n\tconst id = typeof objId === \"function\" ? objId : (data: T) => _.get(data, objId as string)\n\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\n\t\tmapStateToProps<T>(endpoint, id),\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\n\t)(DataView)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Button, Dropdown, Form, Header, Icon, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle: string\n\tcreating: boolean\n\tonCreate: (data: any, view: DataTableRef) => void\n\tbutton?: string\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n}\n\ninterface OwnState {\n\tnewData: any\n}\n\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\tcreate() {\n\t\tconst data = {}\n\t\tObject.keys(this.state.newData).forEach(key => {\n\t\t\t_.set(data, key, this.state.newData[key])\n\t\t})\n\n\t\tthis.props.onCreate(data, {\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: this.setState,\n\t\t\thandleChange: this.handleChange,\n\t\t})\n\t}\n\n\tcanCreate(): boolean {\n\t\treturn Object.keys(this.props.fields).every(name => {\n\t\t\tconst field = this.props.fields[name]\n\t\t\tconst key = field.createName ? field.createName : name\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon fitted name=\"plus\" /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form loading={creating}>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>) {\n\t\tconst state = this.state.newData\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\tstate: state,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid={true}\n\t\t\t\t\tselection={true}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\trequired={field.required}\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tvalue={state[field.name]}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\trequired={field.required}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Dropdown, Form, Header, Icon, Message, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> {\n\ttitle: string\n\tvalid: boolean\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n\tvalues: {\n\t\t[x: string]: string | string[]\n\t}\n\tonFilterChange: (key: string, value: string) => void\n}\n\nclass FilterForm<T> extends React.Component<Props<T>> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\n\t\treturn nextProps.values !== this.props.values ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.valid !== this.props.valid\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\t\t\t\t\t<Message\n\t\t\t\t\t\terror\n\t\t\t\t\t\tvisible={!valid}\n\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>, value: string | string[], error: boolean) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\tstate: this.props.values,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = []\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tmultiple\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\terror={error}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\tname={field.name}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx"],"sourceRoot":""}