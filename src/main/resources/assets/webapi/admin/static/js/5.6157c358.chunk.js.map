{"version":3,"sources":["views/TileEntities/index.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx","components/ItemStack/index.tsx","components/Inventory/index.tsx"],"names":["DataView","Object","__WEBPACK_IMPORTED_MODULE_9__components_DataView__","te","location","world","uuid","position","x","y","z","TileEntities","_super","__extends","prototype","componentDidMount","this","props","requestWorlds","requestCatalog","__WEBPACK_IMPORTED_MODULE_8__types__","TileEntity","render","_t","t","__WEBPACK_IMPORTED_MODULE_0_react__","icon","title","filterTitle","fields","type.name","label","filter","filterName","options","__WEBPACK_IMPORTED_MODULE_7__components_Util__","teTypes","view","worlds","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","color","name","toFixed","info","wide","mobSpawner","Detail","nextEntityToSpawn","type","inventory","__WEBPACK_IMPORTED_MODULE_4__components_Inventory__","items","itemStacks","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","state","list","api","types","dispatch","__WEBPACK_IMPORTED_MODULE_6__actions_dataview__","__WEBPACK_IMPORTED_MODULE_5__actions__","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","DataTable","_this","call","page","newData","changePage","bind","doHandleChange","handleChange","__WEBPACK_IMPORTED_MODULE_4__Util__","key","value","setState","__assign","_a","event","preventDefault","onEdit","obj","keys","forEach","edit","__WEBPACK_IMPORTED_MODULE_0_lodash__","console","log","shouldComponentUpdate","nextProps","nextState","canEdit","canDelete","actions","map","f","maxPage","Math","ceil","length","min","listPage","slice","thisRef","changes","__WEBPACK_IMPORTED_MODULE_1_react__","style","marginTop","fitted","striped","stackable","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","hasActions","Body","i","__WEBPACK_IMPORTED_MODULE_7__TableRow__","idFunc","tableRef","editing","isEditing","d","v","onSave","onDelete","__WEBPACK_IMPORTED_MODULE_5__Pagination__","e","p","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","Pagination","from","max","to","pages","push","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","Item","onClick","active","DataTableHeader","Header","Row","field","HeaderCell","TableRow","renderEdit","col","Field","fluid","selection","search","control","placeholder","onChange","Input","j","Cell","collapsing","__WEBPACK_IMPORTED_MODULE_2__Util__","disabled","updating","loading","endpoint","objId","noDetails","id","data","_state","ownProps","replace","creating","perm","split","perms","permissions","mapStateToProps","requestList","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","requestDetails","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","mapDispatchToProps","details","create","endEdit","save","delete","createTable","__WEBPACK_IMPORTED_MODULE_6__DataTable__","static","interval","setInterval","componentWillUnmount","clearInterval","checks","regsValid","expandRef","val","func_1","createFields","filterFields","ff","find","dataVal","filterValue","indexOf","RegExp","test","every","check","cols","createTitle","origActions","DT","basic","doubling","columns","__WEBPACK_IMPORTED_MODULE_8__Util__","concat","Column","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","button","createButton","onCreate","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","valid","values","onFilterChange","newObj","CreateForm","canCreate","createName","required","fieldGroups","newField","isGroup","only","second","first","fg","renderField","Group","widths","FilterForm","__WEBPACK_IMPORTED_MODULE_3__Util__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","error","visible","content","multiple","itemStackStyle","display","verticalAlign","margin","padding","border","borderRadius","ItemStackComp","item","onRemove","compact","size","floated","marginBottom","durability","unbreakable","progress","percent","useLimit","quantity","enchantments","enchant","level","spawn","potionEffects","effect","num","amplifier","getAmplifier","foodRestoration","burningFuel","customizer","objValue","srcValue","Inventory","shown","stacked","toggle","dontStack","itemGroups","itemGroup","newItem","stackOption","checked","__WEBPACK_IMPORTED_MODULE_4__ItemStack__","dontCollapse","Title","as","primary","Content"],"mappings":"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","file":"static/js/5.6157c358.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Button, Icon, Label } from \"semantic-ui-react\"\n\nimport Inventory from \"../../components/Inventory\"\n\nimport { AppAction, CatalogRequestAction, requestCatalog } from \"../../actions\"\nimport { ListRequestAction, requestList } from \"../../actions/dataview\"\nimport { renderCatalogTypeOptions, renderWorldOptions } from \"../../components/Util\"\nimport { CatalogType, TileEntity, WorldFull } from \"../../fetch\"\nimport { AppState, CatalogTypeKeys } from \"../../types\"\n\nimport DataViewFunc from \"../../components/DataView\"\nconst DataView = DataViewFunc(\"tile-entity\", (te: TileEntity) =>\n\tte.location.world.uuid + \"/\" + te.location.position.x + \"/\" +\n\tte.location.position.y + \"/\" + te.location.position.z)\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\tworlds: WorldFull[]\n\tteTypes: CatalogType[]\n\trequestWorlds: () => ListRequestAction\n\trequestCatalog: (type: string) => CatalogRequestAction\n}\n\ninterface OwnState {\n}\n\nclass TileEntities extends React.Component<Props, OwnState> {\n\n\tcomponentDidMount() {\n\t\tthis.props.requestWorlds()\n\t\tthis.props.requestCatalog(CatalogTypeKeys.TileEntity)\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<DataView\n\t\t\t\ticon=\"puzzle\"\n\t\t\t\ttitle={_t(\"TileEntities\")}\n\t\t\t\tfilterTitle={_t(\"FilterEntities\")}\n\t\t\t\tfields={{\n\t\t\t\t\t\"type.name\": {\n\t\t\t\t\t\tlabel: _t(\"Type\"),\n\t\t\t\t\t\tfilter: true,\n\t\t\t\t\t\tfilterName: \"type.id\",\n\t\t\t\t\t\toptions: renderCatalogTypeOptions(this.props.teTypes),\n\t\t\t\t\t},\n\t\t\t\t\tworld: {\n\t\t\t\t\t\tlabel: _t(\"World\"),\n\t\t\t\t\t\tview: false,\n\t\t\t\t\t\tfilter: true,\n\t\t\t\t\t\tfilterName: \"location.world.uuid\",\n\t\t\t\t\t\toptions: renderWorldOptions(this.props.worlds),\n\t\t\t\t\t},\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tlabel: _t(\"Position\"),\n\t\t\t\t\t\tview: (te) =>\n\t\t\t\t\t\t\t<Button color=\"blue\">\n\t\t\t\t\t\t\t\t<Icon name=\"globe\" />\n\t\t\t\t\t\t\t\t{te.location.world.name}&nbsp; &nbsp;\n\t\t\t\t\t\t\t\t{te.location.position.x.toFixed(0)} |&nbsp;\n\t\t\t\t\t\t\t\t{te.location.position.y.toFixed(0)} |&nbsp;\n\t\t\t\t\t\t\t\t{te.location.position.z.toFixed(0)}\n\t\t\t\t\t\t\t</Button>,\n\t\t\t\t\t},\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tlabel: _t(\"Info\"),\n\t\t\t\t\t\twide: true,\n\t\t\t\t\t\tview: (te) =>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{te.mobSpawner &&\n\t\t\t\t\t\t\t\t\t<Label>\n\t\t\t\t\t\t\t\t\t\t{_t(\"MobSpawner\")}\n\t\t\t\t\t\t\t\t\t\t<Label.Detail>\n\t\t\t\t\t\t\t\t\t\t\t{te.mobSpawner.nextEntityToSpawn.type.name}\n\t\t\t\t\t\t\t\t\t\t</Label.Detail>\n\t\t\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t\t\t{te.inventory &&\n\t\t\t\t\t\t\t\t\t<Inventory items={te.inventory.itemStacks} />}\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\tworlds: state.world.list,\n\t\tteTypes: state.api.types[CatalogTypeKeys.TileEntity],\n\t}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {\n\t\trequestWorlds: () => dispatch(requestList(\"world\", true)),\n\t\trequestCatalog: (type: string) => dispatch(requestCatalog(type)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(translate(\"TileEntities\")(TileEntities))\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/TileEntities/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\tObject.keys(this.props.fields).forEach(name => {\n\t\t\t\tif (!this.props.fields[name].edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tconsole.log(newData)\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = Object.keys(this.props.fields).map(f => this.props.fields[f]).filter(f => f.view)\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: { ...this.state.newData, ...changes }\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{ marginTop: \"2em\" }}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{listPage.map((obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Dispatch } from \"redux\"\nimport { Grid, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport {\n\trequestChange, requestCreate, requestDelete, requestDetails, requestList,\n\tsetFilter\n} from \"../../actions/dataview\"\nimport { DataViewState } from \"../../reducers/dataview\"\nimport { AppState, DataFieldRaw, DataTableRef, DataViewRef, IdFunction } from \"../../types\"\nimport CreateForm from \"../CreateForm\"\nimport DataTable, { Props as DataTableProps } from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport { checkPermissions } from \"../Util\"\n\nimport { DispatchProps, FullProps, OwnProps, OwnState, StateProps } from \"./types\"\n\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\n\n\tinterval: NodeJS.Timer\n\n\tconstructor(props: FullProps<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.endEdit = this.endEdit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcreateTable() { return DataTable as React.ComponentClass<DataTableProps<T>> }\n\n\tcomponentDidMount() {\n\t\tif (!this.props.static) {\n\t\t\tthis.props.requestList()\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval) {\n\t\t\tclearInterval(this.interval)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: FullProps<T>, nextState: OwnState<T>) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data\n\t}\n\n\t// Create a new data entry\n\tcreate(data: T) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data: T) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data: T | null) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data: T, newData: any) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.endEdit()\n\t}\n\n\t// End editing an entry\n\tendEdit() {\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data: T) {\n\t\tthis.props.requestDelete(data)\n\t}\n\n\trender() {\n\t\tconst checks: ((val: T) => boolean)[] = []\n\t\tlet regsValid = false\n\n\t\t// Reference that we pass to our various functions\n\t\tconst expandRef = (tableRef: DataTableRef): DataViewRef<T> =>\n\t\t\t({\n\t\t\t\t...tableRef,\n\t\t\t\tcreate: this.create,\n\t\t\t\tdetails: this.details,\n\t\t\t\tsave: this.save,\n\t\t\t\tedit: this.edit,\n\t\t\t\tendEdit: this.endEdit,\n\t\t\t\tdelete: this.delete,\n\t\t\t})\n\n\t\t// Get all the fields of the table\n\t\tconst fields: { [x: string]: DataFieldRaw<T> } = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet val: DataFieldRaw<T> = {\n\t\t\t\tname: name,\n\t\t\t\tview: true\n\t\t\t}\n\n\t\t\t// If the column is a string use that as the label\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tval.label = value\n\t\t\t} else if (typeof value === \"function\") {\n\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => value(obj, expandRef(tableRef))\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tval = { ...val, ...value }\n\t\t\t\tif (typeof value.view === \"function\") {\n\t\t\t\t\tconst func = value.view\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => func(obj, expandRef(tableRef))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn val\n\t\t})\n\n\t\t// Get all the fields for the create form\n\t\t// Get all the fields for the filter form\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tObject.keys(fields).forEach(f => {\n\t\t\tif (fields[f].create) { createFields[f] = fields[f] }\n\t\t\tif (fields[f].filter) { filterFields[f] = fields[f] }\n\t\t})\n\n\t\ttry {\n\t\t\tObject.keys(this.props.filter).forEach(name => {\n\t\t\t\tconst value = this.props.filter[name]\n\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = Object.keys(filterFields).map(f => filterFields[f]).find(f => f.filterName === name)\n\t\t\t\t\t|| filterFields[name]\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t}\n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\t// Otherwise just use a normal regex check\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tchecks.push((dataVal: T) => {\n\t\t\t\t\t\tconst v = val(dataVal)\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tchecks.push((dataVal: T) => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true\n\t\t} catch {\n\t\t\tregsValid = false\n\t\t}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = this.props.list.filter(data => {\n\t\t\treturn !regsValid || checks.every(check => check(data))\n\t\t})\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, expandRef(tableRef))\n\t\t}\n\n\t\tconst DT = this.createTable()\n\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle &&\n\t\t\t\t\t\tcheckPermissions(this.props.perms, this.props.perm.concat(\"create\")) &&\n\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tonCreate={(obj: any, tableRef: DataTableRef) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DT\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tonEdit={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onEdit ?\n\t\t\t\t\t\t\tthis.props.onEdit(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, tableRef) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={this.props.canEdit && checkPermissions(this.props.perms, this.props.perm.concat(\"change\"))}\n\t\t\t\t\tcanDelete={this.props.canDelete && checkPermissions(this.props.perms, this.props.perm.concat(\"delete\"))}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\n\t\tconst state: DataViewState<T> = _.get(_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"))\n\n\t\treturn {\n\t\t\tcreating: state ? state.creating : false,\n\t\t\tfilter: state && state.filter ? state.filter : {},\n\t\t\tlist: state ? state.list : [],\n\t\t\ttypes: _state.api.types,\n\t\t\tidFunc: id,\n\t\t\tperm: endpoint.split(\"/\"),\n\t\t\tperms: _state.api.permissions,\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps<T>(endpoint: string, id: IdFunction<T>, noDetails: boolean) {\n\treturn (dispatch: Dispatch<AppAction>) => {\n\t\treturn {\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\n\t\t\trequestChange: (data: T, newData: object) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\n\t\t\tsetFilter: (filter: string, value: string) => dispatch(setFilter(endpoint, filter, value)),\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2),\n\t\t}\n\t}\n}\n\nexport default function createDataView<T>(endpoint: string, objId: string | IdFunction<T>, noDetails?: boolean) {\n\tif (!objId) {\n\t\tobjId = \"id\"\n\t}\n\tconst id = typeof objId === \"function\" ? objId : (data: T) => _.get(data, objId as string)\n\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\n\t\tmapStateToProps<T>(endpoint, id),\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\n\t)(DataView)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Button, Dropdown, Form, Header, Icon, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle: string\n\tcreating: boolean\n\tonCreate: (data: any, view: DataTableRef) => void\n\tbutton?: string\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n}\n\ninterface OwnState {\n\tnewData: any\n}\n\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\tcreate() {\n\t\tconst data = {}\n\t\tObject.keys(this.state.newData).forEach(key => {\n\t\t\t_.set(data, key, this.state.newData[key])\n\t\t})\n\n\t\tthis.props.onCreate(data, {\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: this.setState,\n\t\t\thandleChange: this.handleChange,\n\t\t})\n\t}\n\n\tcanCreate(): boolean {\n\t\treturn Object.keys(this.props.fields).every(name => {\n\t\t\tconst field = this.props.fields[name]\n\t\t\tconst key = field.createName ? field.createName : name\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon fitted name=\"plus\" /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form loading={creating}>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>) {\n\t\tconst state = this.state.newData\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\tstate: state,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid={true}\n\t\t\t\t\tselection={true}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\trequired={field.required}\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tvalue={state[field.name]}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\trequired={field.required}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Dropdown, Form, Header, Icon, Message, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> {\n\ttitle: string\n\tvalid: boolean\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n\tvalues: {\n\t\t[x: string]: string | string[]\n\t}\n\tonFilterChange: (key: string, value: string) => void\n}\n\nclass FilterForm<T> extends React.Component<Props<T>> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\n\t\treturn nextProps.values !== this.props.values ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.valid !== this.props.valid\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\t\t\t\t\t<Message\n\t\t\t\t\t\terror\n\t\t\t\t\t\tvisible={!valid}\n\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>, value: string | string[], error: boolean) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\tstate: this.props.values,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = []\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tmultiple\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\terror={error}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\tname={field.name}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx","import * as React from \"react\"\nimport { Button, ButtonProps, Label, Progress } from \"semantic-ui-react\"\n\nimport { ItemStack, PotionEffect } from \"../../fetch\"\nimport { formatRange } from \"../Util\"\n\nconst getRoman: (num: number) => string = (num: number) => {\n\tif (num === 1) { return \"I\" }\n\tif (num === 2) { return \"II\" }\n\tif (num === 3) { return \"III\" }\n\tif (num === 4) { return \"IV\" }\n\tif (num === 5) { return \"V\" }\n\treturn \"\"\n}\nconst getAmplifier: (effect: PotionEffect) => string = (effect: PotionEffect) => getRoman(effect.amplifier + 1)\n\nconst itemStackStyle = {\n\tdisplay: \"inline-block\",\n\tverticalAlign: \"top\",\n\tmargin: \"0.1em\",\n\tpadding: \"0.2em\",\n\tborder: \"1px solid rgba(34,36,38,.1)\",\n\tborderRadius: \".28571429rem\",\n}\n\nexport interface AppProps {\n\titem: ItemStack\n\tonRemove?: (event: React.MouseEvent<HTMLButtonElement>, data: ButtonProps) => void\n}\n\nclass ItemStackComp extends React.Component<AppProps> {\n\trender() {\n\t\tconst item: ItemStack = this.props.item\n\n\t\treturn (\n\t\t\t<div style={itemStackStyle}>\n\t\t\t\t<strong>{item.type.name}</strong>\n\t\t\t\t{this.props.onRemove &&\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcompact\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\tfloated=\"right\"\n\t\t\t\t\t\tonClick={this.props.onRemove}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<div style={{ color: \"gray\", marginBottom: \"0.5em\" }}>{item.type.id}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{item.durability &&\n\t\t\t\t\t\t\t(item.durability.unbreakable ?\n\t\t\t\t\t\t\t\t<Label size=\"tiny\">Unbreakable</Label>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Progress\n\t\t\t\t\t\t\t\t\tprogress\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tpercent={formatRange(item.durability.durability, item.useLimit ? item.useLimit : 0)}\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"0 0 .5em 0\" }}\n\t\t\t\t\t\t\t\t/>)}\n\t\t\t\t\t\t{item.quantity > 1 &&\n\t\t\t\t\t\t\t<Label size=\"tiny\" color=\"blue\">\n\t\t\t\t\t\t\t\tx{item.quantity}\n\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t{item.enchantments &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{item.enchantments.map(enchant =>\n\t\t\t\t\t\t\t\t\t<Label color=\"purple\" size=\"tiny\" key={enchant.id}>\n\t\t\t\t\t\t\t\t\t\t{enchant.name}\n\t\t\t\t\t\t\t\t\t\t<Label.Detail>{enchant.level}</Label.Detail>\n\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{item.spawn &&\n\t\t\t\t\t\t\t<Label size=\"tiny\">\n\t\t\t\t\t\t\t\t{item.spawn.name}\n\t\t\t\t\t\t\t</Label>}\n\t\t\t\t\t\t{item.potionEffects &&\n\t\t\t\t\t\t\titem.potionEffects.map(effect =>\n\t\t\t\t\t\t\t\t<Label size=\"tiny\" color=\"brown\" key={effect.type.id}>\n\t\t\t\t\t\t\t\t\t{effect.type.name} {getAmplifier(effect)}\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t{item.foodRestoration &&\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\ticon=\"food\"\n\t\t\t\t\t\t\t\tcontent={item.foodRestoration}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t{item.burningFuel &&\n\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\ticon=\"fire\"\n\t\t\t\t\t\t\t\tcontent={item.burningFuel}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ItemStackComp\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ItemStack/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Accordion, Button, Radio } from \"semantic-ui-react\"\n\nimport { ItemStack } from \"../../fetch\"\nimport ItemStackComp from \"../ItemStack\"\n\nconst customizer: (objValue: ItemStack, srcValue: ItemStack) => ItemStack[] | undefined =\n\t(objValue: ItemStack, srcValue: ItemStack) => {\n\t\tif (_.isArray(objValue)) {\n\t\t\treturn objValue.concat(srcValue)\n\t\t}\n\t\treturn undefined\n\t}\n\nexport interface AppProps extends reactI18Next.InjectedTranslateProps {\n\titems: ItemStack[]\n\tdontStack?: boolean\n\tstackOption?: boolean\n\tdontCollapse?: boolean\n}\n\ninterface AppState {\n\tshown: boolean\n\tstacked: boolean\n}\n\nclass Inventory extends React.Component<AppProps, AppState> {\n\tconstructor(props: AppProps) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tshown: false,\n\t\t\tstacked: true\n\t\t}\n\n\t\tthis.toggle = this.toggle.bind(this)\n\t}\n\n\ttoggle() {\n\t\tthis.setState({\n\t\t\tshown: !this.state.shown,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\tif (this.props.items.length === 0) {\n\t\t\treturn (\n\t\t\t\t<Button color=\"blue\" disabled>\n\t\t\t\t\t{_t(\"EmptyInventory\")}\n\t\t\t\t</Button>\n\t\t\t)\n\t\t}\n\n\t\tlet items = _.sortBy(this.props.items, \"type.name\")\n\t\tif (!this.props.dontStack && this.state.stacked) {\n\t\t\tconst itemGroups = _.groupBy(items, \"type.id\")\n\t\t\titems = _.map(itemGroups, itemGroup => {\n\t\t\t\tlet item = _.merge({}, _.first(itemGroup))\n\t\t\t\t_.tail(itemGroup).forEach(newItem => item = _.mergeWith(item, newItem, customizer))\n\t\t\t\treturn _.merge(item, { quantity: _.sumBy(itemGroup, \"quantity\") })\n\t\t\t})\n\t\t}\n\n\t\tconst content = (\n\t\t\t<div>\n\t\t\t\t{this.props.stackOption && [\n\t\t\t\t\t<Radio\n\t\t\t\t\t\ttoggle\n\t\t\t\t\t\tkey=\"radio\"\n\t\t\t\t\t\tchecked={this.state.stacked}\n\t\t\t\t\t\tonClick={() => this.setState({ stacked: !this.state.stacked })}\n\t\t\t\t\t/>,\n\t\t\t\t\t<br key=\"newline\" />\n\t\t\t\t]}\n\t\t\t\t{items.map((item, i) =>\n\t\t\t\t\t<ItemStackComp key={i} item={item} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\n\t\tif (this.props.dontCollapse) {\n\t\t\treturn content\n\t\t}\n\n\t\treturn (\n\t\t\t<Accordion>\n\t\t\t\t<Accordion.Title as={Button} primary active={this.state.shown} onClick={this.toggle}>\n\t\t\t\t\t{this.state.shown ? _t(\"HideInventory\") : _t(\"ShowInventory\")}\n\t\t\t\t</Accordion.Title>\n\t\t\t\t<Accordion.Content active={this.state.shown}>\n\t\t\t\t\t{content}\n\t\t\t\t</Accordion.Content>\n\t\t\t</Accordion>\n\t\t)\n\t}\n}\n\nexport default translate(\"Inventory\")(Inventory)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Inventory/index.tsx"],"sourceRoot":""}