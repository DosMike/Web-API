{"version":3,"sources":["views/Integrations/MMCRestrict/Items.tsx","components/DataTable/index.tsx","components/DataTable/Pagination.tsx","components/DataTable/TableHeader.tsx","components/DataTable/TableRow.tsx","components/DataView/index.tsx","components/CreateForm/index.tsx","components/FilterForm/index.tsx"],"names":["DataView","Object","__WEBPACK_IMPORTED_MODULE_7__components_DataView__","getIcon","ban","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","color","name","getEdit","view","toggle","checked","state","onChange","setState","_a","Items","_super","__extends","prototype","componentDidMount","this","props","requestCatalog","__WEBPACK_IMPORTED_MODULE_6__types__","Item","render","_t","t","canEdit","canDelete","icon","title","createTitle","fields","item.name","create","createName","label","required","options","__WEBPACK_IMPORTED_MODULE_5__components_Util__","itemTypes","banReason","edit","usageBanned","breakingBanned","placingBanned","ownershipBanned","dropBanned","worldBanned","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","api","types","dispatch","type","__WEBPACK_IMPORTED_MODULE_4__actions__","__WEBPACK_IMPORTED_MODULE_1_react_i18next__","DataTable","_this","call","page","newData","changePage","bind","doHandleChange","handleChange","__WEBPACK_IMPORTED_MODULE_4__Util__","key","value","__assign","event","preventDefault","onEdit","obj","keys","forEach","__WEBPACK_IMPORTED_MODULE_0_lodash__","console","log","shouldComponentUpdate","nextProps","nextState","list","actions","map","f","filter","maxPage","Math","ceil","length","min","listPage","slice","thisRef","changes","__WEBPACK_IMPORTED_MODULE_1_react__","style","marginTop","fitted","striped","stackable","__WEBPACK_IMPORTED_MODULE_6__TableHeader__","hasActions","Body","i","__WEBPACK_IMPORTED_MODULE_7__TableRow__","idFunc","tableRef","editing","isEditing","d","v","onSave","onDelete","__WEBPACK_IMPORTED_MODULE_5__Pagination__","e","p","__WEBPACK_IMPORTED_MODULE_2_react_i18next__","Pagination","from","max","to","pages","push","__WEBPACK_IMPORTED_MODULE_1_semantic_ui_react__","pagination","onClick","active","DataTableHeader","Header","Row","field","HeaderCell","TableRow","renderEdit","col","Field","fluid","selection","search","control","placeholder","Input","j","Cell","collapsing","wide","__WEBPACK_IMPORTED_MODULE_2__Util__","disabled","updating","loading","endpoint","objId","noDetails","id","data","_state","ownProps","replace","creating","perm","split","perms","permissions","mapStateToProps","requestList","__WEBPACK_IMPORTED_MODULE_4__actions_dataview__","requestDetails","requestCreate","requestChange","requestDelete","setFilter","equals","o1","o2","mapDispatchToProps","details","endEdit","save","delete","createTable","__WEBPACK_IMPORTED_MODULE_6__DataTable__","static","interval","setInterval","componentWillUnmount","clearInterval","checks","regsValid","expandRef","val","func_1","createFields","filterFields","ff","find","filterName","dataVal","filterValue","indexOf","RegExp","test","every","check","cols","filterTitle","origActions","DT","basic","doubling","columns","__WEBPACK_IMPORTED_MODULE_8__Util__","concat","Column","__WEBPACK_IMPORTED_MODULE_5__CreateForm__","button","createButton","onCreate","__WEBPACK_IMPORTED_MODULE_7__FilterForm__","valid","values","onFilterChange","newObj","CreateForm","canCreate","fieldGroups","newField","isGroup","only","second","first","fg","renderField","Group","widths","FilterForm","__WEBPACK_IMPORTED_MODULE_3__Util__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","error","visible","content","multiple"],"mappings":"meAWMA,EAAWC,OAAAC,EAAA,EAAAD,CAAa,oBAAqB,WAE7CE,EAAU,SAACC,GAAiB,OACjCC,EAAA,cAACC,EAAA,GACAC,MAAOH,EAAM,MAAQ,QACrBI,KAAMJ,EAAM,MAAQ,WAIhBK,EAAU,SAACL,EAAsBM,EAAoBF,GAAiB,OAC3EH,EAAA,cAACC,EAAA,GACAK,QAAM,EACNH,KAAMA,EACNI,QAASF,EAAKG,MAAML,GACpBM,SAAU,WAAM,OAAAJ,EAAKK,WAAQC,MAAIR,IAAQE,EAAKG,MAAML,GAAKQ,cAY3DC,EAAA,SAAAC,GAAA,SAAAD,mDA+DA,OA/DoBE,EAAAF,EAAAC,GAEnBD,EAAAG,UAAAC,kBAAA,WACCC,KAAKC,MAAMC,eAAeC,EAAA,EAAgBC,OAG3CT,EAAAG,UAAAO,OAAA,WACC,IAAMC,EAAKN,KAAKC,MAAMM,EAEtB,OACCxB,EAAA,cAACL,GACA8B,SAAO,EACPC,WAAS,EACTC,KAAK,MACLC,MAAOL,EAAG,mBACVM,YAAaN,EAAG,wBAChBO,QACCC,aACCC,QAAQ,EACRC,WAAY,OACZC,MAAOX,EAAG,QACVY,UAAU,EACVC,QAASxC,OAAAyC,EAAA,EAAAzC,CAAyBqB,KAAKC,MAAMoB,YAE9CC,WACCL,MAAOX,EAAG,UACVS,QAAQ,EACRQ,MAAM,GAEPC,aACCP,MAAOX,EAAG,SACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI0C,cAC5CD,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,iBAE1DqC,gBACCR,MAAOX,EAAG,YACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI2C,iBAC5CF,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,oBAE1DsC,eACCT,MAAOX,EAAG,WACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI4C,gBAC5CH,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,mBAE1DuC,iBACCV,MAAOX,EAAG,aACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI6C,kBAC5CJ,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,qBAE1DwC,YACCX,MAAOX,EAAG,QACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI8C,aAC5CL,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,gBAE1DyC,aACCZ,MAAOX,EAAG,SACVlB,KAAM,SAACN,GAAyB,OAAAD,EAAQC,EAAI+C,cAC5CN,KAAM,SAACzC,EAAsBM,GAAS,OAAAD,EAAQL,EAAKM,EAAM,qBAM/DO,EA/DA,CAAoBZ,EAAA,WA6EpB+C,EAAA,QAAenD,OAAAoD,EAAA,EAAApD,CAZS,SAACY,GACxB,OACC8B,UAAW9B,EAAMyC,IAAIC,MAAM9B,EAAA,EAAgBC,QAIlB,SAAC8B,GAC3B,OACChC,eAAgB,SAACiC,GAAiB,OAAAD,EAASvD,OAAAyD,EAAA,EAAAzD,CAAewD,OAI5D,CACCxD,OAAA0D,EAAA,EAAA1D,CAAU,2BAAVA,CAAsCgB,wmBC/EvC2C,EAAA,SAAA1C,GAIC,SAAA0C,EAAYrC,GAAZ,IAAAsC,EACC3C,EAAA4C,KAAAxC,KAAMC,IAAMD,YAEZuC,EAAKhD,OACJkD,KAAM,EACNC,YAGDH,EAAKI,WAAaJ,EAAKI,WAAWC,KAAKL,GACvCA,EAAKM,eAAiBN,EAAKM,eAAeD,KAAKL,GAC/CA,EAAKO,aAAeC,EAAA,EAAaH,KAAKL,EAAMA,EAAKM,kBAgHnD,OA9H2BhD,EAAAyC,EAAA1C,GAiB1B0C,EAAAxC,UAAA+C,eAAA,SAAeG,EAAaC,SAC3BjD,KAAKP,UACJiD,QAAOQ,KACHlD,KAAKT,MAAMmD,SAAOhD,OACpBsD,GAAMC,EAAKvD,OAKf4C,EAAAxC,UAAA6C,WAAA,SAAWQ,EAAsCV,GAChDU,EAAMC,iBAENpD,KAAKP,UACJgD,KAAMA,KAIRH,EAAAxC,UAAAuD,OAAA,SAAOC,EAAelE,GAAtB,IAAAmD,EAAAvC,KACO0C,KACFY,GACH3E,OAAO4E,KAAKvD,KAAKC,MAAMY,QAAQ2C,QAAQ,SAAAtE,GACjCqD,EAAKtC,MAAMY,OAAO3B,GAAMqC,OAG7BmB,EAAQxD,GAAQuE,EAAA,IAAMH,EAAKpE,MAI7BwE,QAAQC,IAAIjB,GACZ1C,KAAKP,UACJiD,QAASA,IAGN1C,KAAKC,MAAMoD,QACdrD,KAAKC,MAAMoD,OAAOC,EAAKlE,IAIzBkD,EAAAxC,UAAA8D,sBAAA,SAAsBC,EAAqBC,GAC1C,OAAOD,EAAUhD,SAAWb,KAAKC,MAAMY,QACtCgD,EAAUE,OAAS/D,KAAKC,MAAM8D,MAC9BD,EAAUrB,OAASzC,KAAKT,MAAMkD,MAC9BqB,EAAUpB,UAAY1C,KAAKT,MAAMmD,SAGnCJ,EAAAxC,UAAAO,OAAA,eAAAkC,EAAAvC,KACON,EAAAM,KAAAC,MAAES,EAAAhB,EAAAgB,KAAMC,EAAAjB,EAAAiB,MAAOoD,EAAArE,EAAAqE,KAAMvD,EAAAd,EAAAc,QAASC,EAAAf,EAAAe,UAAWuD,EAAAtE,EAAAsE,QACzCnD,EAASlC,OAAO4E,KAAKvD,KAAKC,MAAMY,QAAQoD,IAAI,SAAAC,GAAK,OAAA3B,EAAKtC,MAAMY,OAAOqD,KAAIC,OAAO,SAAAD,GAAK,OAAAA,EAAE9E,OAErFgF,EAAUC,KAAKC,KAAKP,EAAKQ,OA1FV,IA2Ff9B,EAAO4B,KAAKG,IAAIxE,KAAKT,MAAMkD,KAAM2B,EAAU,GAE3CK,EAAWV,EAAKW,MA7FD,GA6FOjC,EA7FP,IA6F+BA,EAAO,IAErDkC,GACL7B,aAAc9C,KAAK8C,aACnBvD,MAAOS,KAAKT,MAAMmD,QAClBjD,SAAU,SAACmF,GAAoB,OAAArC,EAAK9C,UACnCiD,QAAOQ,KAAOX,EAAKhD,MAAMmD,QAAYkC,OAIjCtE,EAAKN,KAAKC,MAAMM,EAEtB,OACCsE,EAAA,qBAAKC,OAASC,UAAW,QACvBpE,GACAkE,EAAA,cAAC7F,EAAA,EAAM,KACN6F,EAAA,cAAC7F,EAAA,GAAKgG,QAAM,EAAC9F,KAAMwB,QAAUC,GAI/BkE,EAAA,cAAC7F,EAAA,GAAMiG,SAAS,EAAMC,WAAS,GAC9BL,EAAA,cAACM,EAAA,GACAtE,OAAQA,EACRuE,WAA+B,qBAAZpB,EACnBxD,QAASA,EACTC,UAAWA,EACXF,EAAGD,IAEJuE,EAAA,cAAC7F,EAAA,EAAMqG,KAAI,KACTZ,EAASR,IAAI,SAACX,EAAKgC,GACnB,OAAAT,EAAA,cAACU,EAAA,GACAvC,IAAKT,EAAKtC,MAAMuF,OAAOlC,GACvBA,IAAKA,EACLmC,SAAUd,EACVnE,QAASA,EACTC,UAAWA,EACXiF,QAASnD,EAAKtC,MAAM0F,UAAUrC,GAC9BzC,OAAQA,EACRwC,OAAQ,SAACuC,EAAMC,GAAM,OAAAtD,EAAKc,OAAOuC,EAAGC,IACpCC,OAAQvD,EAAKtC,MAAM6F,OACnBC,SAAUxD,EAAKtC,MAAM8F,SACrB/B,QAASzB,EAAKtC,MAAM+D,QACpBtB,QAASH,EAAKhD,MAAMmD,QACpBI,aAAcP,EAAKO,aACnBvC,EAAGD,QAKPuE,EAAA,cAACmB,EAAA,GACAvD,KAAMA,EACN2B,QAASA,EACTzB,WAAY,SAACsD,EAAGC,GAAM,OAAA3D,EAAKI,WAAWsD,EAAGC,QAK9C5D,EA9HA,CAA2BuC,EAAA,WAgI3B/C,EAAA,EAAenD,OAAAwH,EAAA,EAAAxH,CAAU,YAAzB,CAAsC2D,gXC3JtC8D,EAAA,SAAAxG,GAAA,SAAAwG,mDAkDA,OAlDwCvG,EAAAuG,EAAAxG,GAEvCwG,EAAAtG,UAAA8D,sBAAA,SAAsBC,EAAkBC,GACvC,OAAOD,EAAUpB,OAASzC,KAAKC,MAAMwC,MACpCoB,EAAUO,UAAYpE,KAAKC,MAAMmE,SAGnCgC,EAAAtG,UAAAO,OAAA,eAAAkC,EAAAvC,KACC,GAAIA,KAAKC,MAAMmE,SAAW,EACzB,OAAO,KAOR,IAJM,IAAA1E,EAAAM,KAAAC,MAAEwC,EAAA/C,EAAA+C,KAAM2B,EAAA1E,EAAA0E,QACRiC,EAAOhC,KAAKiC,IAAI,EAAG7D,EAAO,GAC1B8D,EAAKlC,KAAKG,IAAIJ,EAAS3B,EAAO,GAC9B+D,KACGlB,EAAIe,EAAMf,EAAIiB,EAAIjB,IAC1BkB,EAAMC,KAAKnB,GAGZ,OACCvG,EAAA,cAAC2H,EAAA,GAAKC,YAAU,GACblE,EAAO,EACR1D,EAAA,cAAC2H,EAAA,EAAKtG,MAAKwG,QAAS,SAAAX,GAAK,OAAA1D,EAAKtC,MAAM0C,WAAWsD,EAAG,KAAE,KAGnD,KACAxD,EAAO,EACR1D,EAAA,cAAC2H,EAAA,EAAKtG,MAAKwG,QAAS,SAAAX,GAAK,OAAA1D,EAAKtC,MAAM0C,WAAWsD,EAAGxD,EAAO,KAAE,OAG1D,KACA+D,EAAMvC,IAAI,SAAAiC,GAAK,OAChBnH,EAAA,cAAC2H,EAAA,EAAKtG,MAAK4C,IAAKkD,EAAGU,QAAS,SAAAX,GAAK,OAAA1D,EAAKtC,MAAM0C,WAAWsD,EAAGC,IAAIW,OAAQX,IAAMzD,GAC1EyD,EAAI,KAGLzD,EAAO2B,EAAU,EAClBrF,EAAA,cAAC2H,EAAA,EAAKtG,MAAKwG,QAAS,SAAAX,GAAK,OAAA1D,EAAKtC,MAAM0C,WAAWsD,EAAGxD,EAAO,KAAE,OAG1D,KACAA,EAAO2B,EAAU,EAClBrF,EAAA,cAAC2H,EAAA,EAAKtG,MAAKwG,QAAS,SAAAX,GAAK,OAAA1D,EAAKtC,MAAM0C,WAAWsD,EAAG7B,EAAU,KAC1DA,GAED,OAINgC,EAlDA,CAAwCrH,EAAA,8XCGxC+H,EAAA,SAAAlH,GAAA,SAAAkH,mDAyBA,OAzBgDjH,EAAAiH,EAAAlH,GAE/CkH,EAAAhH,UAAA8D,sBAAA,SAAsBC,EAAqBC,GAC1C,OAAOD,EAAUhD,SAAWb,KAAKC,MAAMY,QAGxCiG,EAAAhH,UAAAO,OAAA,eAAAkC,EAAAvC,KACC,OACCjB,EAAA,cAAC2H,EAAA,EAAMK,OAAM,KACZhI,EAAA,cAAC2H,EAAA,EAAMM,IAAG,KACRrI,OAAO4E,KAAKvD,KAAKC,MAAMY,QAAQoD,IAAI,SAAA/E,GACnC,IAAM+H,EAAQ1E,EAAKtC,MAAMY,OAAO3B,GAChC,OACCH,EAAA,cAAC2H,EAAA,EAAMQ,YAAWlE,IAAK9D,GACrB+H,EAAMhG,MAAQgG,EAAMhG,MAAQ,IAAMgG,EAAM/H,KAAO,OAIlDc,KAAKC,MAAMmF,YAAcpF,KAAKC,MAAMO,SAAWR,KAAKC,MAAMQ,UAC1D1B,EAAA,cAAC2H,EAAA,EAAMQ,WAAU,KAAElH,KAAKC,MAAMM,EAAE,YAC/B,QAKPuG,EAzBA,CAAgD/H,EAAA,sYCShDoI,EAAA,SAAAvH,GAAA,SAAAuH,mDA0GA,OA1GyCtH,EAAAsH,EAAAvH,GAExCuH,EAAArH,UAAA8D,sBAAA,SAAsBC,EAAqBC,GAC1C,OAAOD,EAAUP,MAAQtD,KAAKC,MAAMqD,KACnCO,EAAU6B,UAAY1F,KAAKC,MAAMyF,SACjC7B,EAAUhD,SAAWb,KAAKC,MAAMY,QAC/Bb,KAAKC,MAAMyF,SAAW7B,EAAUnB,UAAY1C,KAAKC,MAAMyC,SAG1DyE,EAAArH,UAAAsH,WAAA,SAAW9D,EAAQ+D,GAClB,OAAIA,EAAIlG,QAENpC,EAAA,cAAC2H,EAAA,EAAKY,OACLC,OAAK,EACLC,WAAS,EACTC,QAAM,EACNC,QAAShB,EAAA,EACTxH,KAAMmI,EAAInI,KACVyI,YAAaN,EAAIpG,MACjBE,QAASkG,EAAIlG,QACb8B,MAAOjD,KAAKC,MAAMyC,QAAQ2E,EAAInI,MAC9BM,SAAUQ,KAAKC,MAAM6C,eAMvB/D,EAAA,cAAC2H,EAAA,EAAKkB,OACL1I,KAAMmI,EAAInI,KACViD,KAAMkF,EAAIlF,KAAOkF,EAAIlF,KAAO,OAC5BwF,YAAaN,EAAIpG,MACjBgC,MAAOjD,KAAKC,MAAMyC,QAAQ2E,EAAInI,MAC9BM,SAAUQ,KAAKC,MAAM6C,gBAKxBqE,EAAArH,UAAAO,OAAA,eAAAkC,EAAAvC,KACON,EAAAM,KAAAC,MAAE+D,EAAAtE,EAAAsE,QAASnD,EAAAnB,EAAAmB,OAAQyC,EAAA5D,EAAA4D,IAAK9C,EAAAd,EAAAc,QAASC,EAAAf,EAAAe,UAAWiF,EAAAhG,EAAAgG,QAASD,EAAA/F,EAAA+F,SAE3D,OACC1G,EAAA,cAAC2H,EAAA,EAAMM,IAAG,KACRnG,EAAOoD,IAAI,SAACgD,EAAOY,GACnB,OAAA9I,EAAA,cAAC2H,EAAA,EAAMoB,MAAK9E,IAAK6E,EAAGE,YAAad,EAAMe,MACrCf,EAAM1F,MAAQmE,EACS,oBAAfuB,EAAM1F,KACb0F,EAAM1F,KAAK+B,EAAKmC,GAEhBlD,EAAK6E,WAAW9D,EAAK2D,GAGC,oBAAfA,EAAM7H,KACb6H,EAAM7H,KAAKkE,EAAKmC,GAEhB9G,OAAAsJ,EAAA,EAAAtJ,CAAI2E,EAAK2D,EAAM/H,SAKlB8E,GAAWxD,GAAWC,EACtB1B,EAAA,cAAC2H,EAAA,EAAMoB,MAAKC,YAAU,GACpBvH,GAAWkF,GACV3G,EAAA,cAAC2H,EAAA,GACD1D,IAAI,OACJ/D,MAAM,QACNiJ,SAAW5E,EAAY6E,SACvBC,QAAU9E,EAAY6E,SACtBvB,QAAS,WAAYrE,EAAKtC,MAAM6F,QAAUvD,EAAKtC,MAAM6F,OAAOxC,EAAKf,EAAKtC,MAAMyC,QAAS+C,KAErF1G,EAAA,cAAC2H,EAAA,GAAKxH,KAAK,aAAWc,KAAKC,MAAMM,EAAE,SAEpCxB,EAAA,cAAC2H,EAAA,GACA1D,IAAI,SACJ/D,MAAM,SACNiJ,SAAW5E,EAAY6E,SACvBC,QAAU9E,EAAY6E,SACtBvB,QAAS,WAAM,OAAArE,EAAKtC,MAAMoD,OAAO,KAAMoC,KAEvC1G,EAAA,cAAC2H,EAAA,GAAKxH,KAAK,eAAac,KAAKC,MAAMM,EAAE,YAErCC,EACDzB,EAAA,cAAC2H,EAAA,GACAzH,MAAM,OACNiJ,SAAW5E,EAAY6E,SACvBC,QAAU9E,EAAY6E,SACtBvB,QAAS,WAAM,OAAArE,EAAKtC,MAAMoD,OAAOC,EAAKmC,KAEtC1G,EAAA,cAAC2H,EAAA,GAAKxH,KAAK,aAAWc,KAAKC,MAAMM,EAAE,SAEnC,KACDE,GACA1B,EAAA,cAAC2H,EAAA,GACAzH,MAAM,MACNiJ,SAAW5E,EAAY6E,SACvBC,QAAU9E,EAAY6E,SACtBvB,QAAS,WAAYrE,EAAKtC,MAAM8F,UAAYxD,EAAKtC,MAAM8F,SAASzC,EAAKmC,KAErE1G,EAAA,cAAC2H,EAAA,GAAKxH,KAAK,cAAYc,KAAKC,MAAMM,EAAE,WAGrCyD,GAAWA,EAAQV,EAAKmC,IAEzB,OAIN0B,EA1GA,CAAyCpI,EAAA,wDCyR3B,SAA4BsJ,EAAkBC,EAA+BC,GACrFD,IACJA,EAAQ,MAET,IAAME,EAAsB,oBAAVF,EAAuBA,EAAQ,SAACG,GAAY,OAAAhF,EAAA,IAAMgF,EAAMH,IAE1E,OAAO3J,OAAAoD,EAAA,EAAApD,CApCR,SAA4B0J,EAAkBG,GAC7C,OAAO,SAACE,EAAkBC,GACzB,IAAMpJ,EAA0BkE,EAAA,IAAMiF,EAAQL,EAASO,QAAQ,MAAO,KAAKA,QAAQ,IAAK,KAExF,OACCC,WAAUtJ,GAAQA,EAAMsJ,SACxB1E,OAAQ5E,GAASA,EAAM4E,OAAS5E,EAAM4E,UACtCJ,KAAMxE,EAAQA,EAAMwE,QACpB9B,MAAOyG,EAAO1G,IAAIC,MAClBuD,OAAQgD,EACRM,KAAMT,EAASU,MAAM,KACrBC,MAAON,EAAO1G,IAAIiH,cA0BnBC,CAAmBb,EAAUG,GArB/B,SAA+BH,EAAkBG,EAAmBD,GACnE,OAAO,SAACrG,GACP,OACCiH,YAAa,WAAM,OAAAjH,EAASvD,OAAAyK,EAAA,EAAAzK,CAAY0J,GAAWE,KACnDc,eAAgB,SAACZ,GAAY,OAAAvG,EAASvD,OAAAyK,EAAA,EAAAzK,CAAe0J,EAAUG,EAAIC,KACnEa,cAAe,SAACb,GAAY,OAAAvG,EAASvD,OAAAyK,EAAA,EAAAzK,CAAc0J,EAAUG,EAAIC,KACjEc,cAAe,SAACd,EAAS/F,GAAoB,OAAAR,EAASvD,OAAAyK,EAAA,EAAAzK,CAAc0J,EAAUG,EAAIC,EAAM/F,KACxF8G,cAAe,SAACf,GAAY,OAAAvG,EAASvD,OAAAyK,EAAA,EAAAzK,CAAc0J,EAAUG,EAAIC,KACjEgB,UAAW,SAACtF,EAAgBlB,GAAkB,OAAAf,EAASvD,OAAAyK,EAAA,EAAAzK,CAAU0J,EAAUlE,EAAQlB,KACnFyG,OAAQ,SAACC,EAAOC,GAAU,OAAM,MAAND,GAAoB,MAANC,GAAcpB,EAAGmB,KAAQnB,EAAGoB,MAarEC,CAAsBxB,EAAUG,IAAID,GAF9B5J,CAGLD,8kBAnSHA,EAAA,SAAAkB,GAIC,SAAAlB,EAAYuB,GAAZ,IAAAsC,EACC3C,EAAA4C,KAAAxC,KAAMC,IAAMD,YAEZuC,EAAKhD,OACJkD,KAAM,EACNgG,KAAM,MAGPlG,EAAKuH,QAAUvH,EAAKuH,QAAQlH,KAAKL,GACjCA,EAAKxB,OAASwB,EAAKxB,OAAO6B,KAAKL,GAC/BA,EAAKhB,KAAOgB,EAAKhB,KAAKqB,KAAKL,GAC3BA,EAAKwH,QAAUxH,EAAKwH,QAAQnH,KAAKL,GACjCA,EAAKyH,KAAOzH,EAAKyH,KAAKpH,KAAKL,GAC3BA,EAAK0H,OAAS1H,EAAK0H,OAAOrH,KAAKL,KAyOjC,OA1P0B1C,EAAAnB,EAAAkB,GAoBzBlB,EAAAoB,UAAAoK,YAAA,WAAgB,OAAOC,EAAA,GAEvBzL,EAAAoB,UAAAC,kBAAA,WACMC,KAAKC,MAAMmK,SACfpK,KAAKC,MAAMkJ,cACXnJ,KAAKqK,SAAWC,YAAYtK,KAAKC,MAAMkJ,YAAa,OAItDzK,EAAAoB,UAAAyK,qBAAA,WACKvK,KAAKqK,UACRG,cAAcxK,KAAKqK,WAIrB3L,EAAAoB,UAAA8D,sBAAA,SAAsBC,EAAyBC,GAC9C,OAAOD,EAAUgF,WAAa7I,KAAKC,MAAM4I,UACxChF,EAAUM,SAAWnE,KAAKC,MAAMkE,QAChCN,EAAUhD,SAAWb,KAAKC,MAAMY,QAChCgD,EAAUE,OAAS/D,KAAKC,MAAM8D,MAC9BD,EAAU2E,OAASzI,KAAKT,MAAMkJ,MAIhC/J,EAAAoB,UAAAiB,OAAA,SAAO0H,GACNzI,KAAKC,MAAMqJ,cAAcb,IAI1B/J,EAAAoB,UAAAgK,QAAA,SAAQrB,GACPzI,KAAKC,MAAMoJ,eAAeZ,IAI3B/J,EAAAoB,UAAAyB,KAAA,SAAKkH,GACJzI,KAAKP,UACJgJ,KAAMA,KAKR/J,EAAAoB,UAAAkK,KAAA,SAAKvB,EAAS/F,GACb1C,KAAKC,MAAMsJ,cAAcd,EAAM/F,GAC/B1C,KAAK+J,WAINrL,EAAAoB,UAAAiK,QAAA,WACC/J,KAAKP,UACJgJ,KAAM,QAKR/J,EAAAoB,UAAAmK,OAAA,SAAOxB,GACNzI,KAAKC,MAAMuJ,cAAcf,IAG1B/J,EAAAoB,UAAAO,OAAA,eAAAkC,EAAAvC,KACOyK,KACFC,GAAY,EAGVC,EAAY,SAAClF,GAClB,OAAAvC,KACIuC,GACH1E,OAAQwB,EAAKxB,OACb+I,QAASvH,EAAKuH,QACdE,KAAMzH,EAAKyH,KACXzI,KAAMgB,EAAKhB,KACXwI,QAASxH,EAAKwH,QACdE,OAAQ1H,EAAK0H,UAITpJ,EAA2C4C,EAAA,UAAYzD,KAAKC,MAAMY,OAAQ,SAACoC,EAAO/D,GACvF,IAAI0L,GACH1L,KAAMA,EACNE,MAAM,GAMP,GAAqB,kBAAV6D,EACV2H,EAAI3J,MAAQgC,OACN,GAAqB,oBAAVA,EACjB2H,EAAIxL,KAAO,SAACkE,EAAQmC,GAA2B,OAAAxC,EAAMK,EAAKqH,EAAUlF,UAC9D,GAAqB,kBAAVxC,IACjB2H,EAAG1H,KAAQ0H,EAAQ3H,GACO,oBAAfA,EAAM7D,MAAqB,CACrC,IAAMyL,EAAO5H,EAAM7D,KACnBwL,EAAIxL,KAAO,SAACkE,EAAQmC,GAA2B,OAAAoF,EAAKvH,EAAKqH,EAAUlF,KAIrE,OAAOmF,IAKFE,KACAC,KACNpM,OAAO4E,KAAK1C,GAAQ2C,QAAQ,SAAAU,GACvBrD,EAAOqD,GAAGnD,SAAU+J,EAAa5G,GAAKrD,EAAOqD,IAC7CrD,EAAOqD,GAAGC,SAAU4G,EAAa7G,GAAKrD,EAAOqD,MAGlD,IACCvF,OAAO4E,KAAKvD,KAAKC,MAAMkE,QAAQX,QAAQ,SAAAtE,GACtC,IAAM+D,EAAQV,EAAKtC,MAAMkE,OAAOjF,GAI1B8L,EAAKrM,OAAO4E,KAAKwH,GAAc9G,IAAI,SAAAC,GAAK,OAAA6G,EAAa7G,KAAI+G,KAAK,SAAA/G,GAAK,OAAAA,EAAEgH,aAAehM,KACtF6L,EAAa7L,GAGb0L,EAAM,SAACO,GAAe,OAAA1H,EAAA,IAAM0H,EAASjM,IAOzC,GAN8B,oBAAnB8L,EAAGI,cACbR,EAAMI,EAAGI,aAKN3H,EAAA,QAAUR,GAAQ,CACrB,GAAqB,IAAjBA,EAAMsB,OACT,OAGDkG,EAAOhE,KAAK,SAAC0E,GACZ,IAAMtF,EAAI+E,EAAIO,GACd,OAAOlI,EAAMoI,QAAQxF,IAAM,SAG5B4E,EAAOhE,KAAK,SAAC0E,GAAe,WAAKG,OAAOrI,EAAO,KAAMsI,KAAKX,EAAIO,QAGhET,GAAY,EACX,MAAAhL,GACDgL,GAAY,EAKb,IAAM3G,EAAO/D,KAAKC,MAAM8D,KAAKI,OAAO,SAAAsE,GACnC,OAAQiC,GAAaD,EAAOe,MAAM,SAAAC,GAAS,OAAAA,EAAMhD,OAI5CiD,EAAO1L,KAAKC,MAAMW,aAAeZ,KAAKC,MAAM0L,YAAc,EAAI,EAG9DC,EAAc5L,KAAKC,MAAM+D,QAC3BA,EAAU4H,EACa,oBAAhBA,IACV5H,EAAU,SAACV,EAAKmC,GAAa,OAAAmG,EAAYtI,EAAKqH,EAAUlF,MAGzD,IAAMoG,EAAK7L,KAAKkK,cAEhB,OACCrF,EAAA,cAAC7F,EAAA,GAAQ8M,OAAK,GAEbjH,EAAA,cAAC7F,EAAA,GAAKkG,WAAS,EAAC6G,UAAQ,EAACC,QAASN,GAChC1L,KAAKC,MAAMW,aACXjC,OAAAsN,EAAA,EAAAtN,CAAiBqB,KAAKC,MAAM+I,MAAOhJ,KAAKC,MAAM6I,KAAKoD,OAAO,YAE1DrH,EAAA,cAAC7F,EAAA,EAAKmN,OAAM,KACXtH,EAAA,cAACuH,EAAA,GACAzL,MAAOX,KAAKC,MAAMW,YAClByL,OAAQrM,KAAKC,MAAMqM,aACnBzD,SAAU7I,KAAKC,MAAM4I,SACrBhI,OAAQiK,EACRyB,SAAU,SAACjJ,EAAUmC,GACpB,OAAAlD,EAAKtC,MAAMsM,SACVhK,EAAKtC,MAAMsM,SAASjJ,EAAKqH,EAAUlF,IAEnClD,EAAKxB,OAAOuC,OAMhBtD,KAAKC,MAAM0L,aACX9G,EAAA,cAAC7F,EAAA,EAAKmN,OAAM,KACXtH,EAAA,cAAC2H,EAAA,GACA7L,MAAOX,KAAKC,MAAM0L,YAClB9K,OAAQkK,EACR0B,MAAO/B,EACPgC,OAAQ1M,KAAKC,MAAMkE,OACnBwI,eAAgB3M,KAAKC,MAAMwJ,cAM/B5E,EAAA,cAACgH,GACAlL,MAAOX,KAAKC,MAAMU,MAClBD,KAAMV,KAAKC,MAAMS,KACjBqD,KAAMA,EACNxD,EAAGP,KAAKC,MAAMM,EACdiF,OAAQxF,KAAKC,MAAMuF,OACnB3E,OAAQA,EACRwC,OAAQ,SAACC,EAAKmC,GACb,OAAAlD,EAAKtC,MAAMoD,OACVd,EAAKtC,MAAMoD,OAAOC,EAAKqH,EAAUlF,IAEjClD,EAAKhB,KAAK+B,IAEZwC,OAAQ,SAACxC,EAAKsJ,EAAQnH,GACrB,OAAAlD,EAAKtC,MAAM6F,OACVvD,EAAKtC,MAAM6F,OAAOxC,EAAKsJ,EAAQjC,EAAUlF,IAEzClD,EAAKyH,KAAK1G,EAAKsJ,IAEjB7G,SAAU,SAACzC,EAAKmC,GACf,OAAAlD,EAAKtC,MAAM8F,SACVxD,EAAKtC,MAAM8F,SAASzC,EAAKqH,EAAUlF,IAEnClD,EAAK0H,OAAO3G,IAEd9C,QAASR,KAAKC,MAAMO,SAAW7B,OAAAsN,EAAA,EAAAtN,CAAiBqB,KAAKC,MAAM+I,MAAOhJ,KAAKC,MAAM6I,KAAKoD,OAAO,WACzFzL,UAAWT,KAAKC,MAAMQ,WAAa9B,OAAAsN,EAAA,EAAAtN,CAAiBqB,KAAKC,MAAM+I,MAAOhJ,KAAKC,MAAM6I,KAAKoD,OAAO,WAC7FlI,QAASA,EACT2B,UAAW,SAAArC,GAAO,OAAAf,EAAKtC,MAAMyJ,OAAOpG,EAAKf,EAAKhD,MAAMkJ,WAKzD/J,EA1PA,CAA0BmG,EAAA,ilBCE1BgI,EAAA,SAAAjN,GAIC,SAAAiN,EAAY5M,GAAZ,IAAAsC,EACC3C,EAAA4C,KAAAxC,KAAMC,IAAMD,YAEZuC,EAAKhD,OACJmD,YAGDH,EAAKM,eAAiBN,EAAKM,eAAeD,KAAKL,GAC/CA,EAAKO,aAAeC,EAAA,EAAaH,KAAKL,EAAMA,EAAKM,gBACjDN,EAAKxB,OAASwB,EAAKxB,OAAO6B,KAAKL,KAwIjC,OArJ4B1C,EAAAgN,EAAAjN,GAgB3BiN,EAAA/M,UAAA+C,eAAA,SAAeG,EAAaC,SAC3BjD,KAAKP,UACJiD,QAAOQ,KACHlD,KAAKT,MAAMmD,SAAOhD,OACpBsD,GAAMC,EAAKvD,OAKfmN,EAAA/M,UAAA8D,sBAAA,SAAsBC,EAAqBC,GAC1C,OAAOD,EAAUgF,WAAa7I,KAAKC,MAAM4I,UACxChF,EAAUhD,SAAWb,KAAKC,MAAMY,QAChCiD,EAAUpB,UAAY1C,KAAKT,MAAMmD,SAGnCmK,EAAA/M,UAAAiB,OAAA,eAAAwB,EAAAvC,KACOyI,KACN9J,OAAO4E,KAAKvD,KAAKT,MAAMmD,SAASc,QAAQ,SAAAR,GACvCS,EAAA,IAAMgF,EAAMzF,EAAKT,EAAKhD,MAAMmD,QAAQM,MAGrChD,KAAKC,MAAMsM,SAAS9D,GACnBlJ,MAAOS,KAAKT,MAAMmD,QAClBjD,SAAUO,KAAKP,SACfqD,aAAc9C,KAAK8C,gBAIrB+J,EAAA/M,UAAAgN,UAAA,eAAAvK,EAAAvC,KACC,OAAOrB,OAAO4E,KAAKvD,KAAKC,MAAMY,QAAQ2K,MAAM,SAAAtM,GAC3C,IAAM+H,EAAQ1E,EAAKtC,MAAMY,OAAO3B,GAC1B8D,EAAMiE,EAAMjG,WAAaiG,EAAMjG,WAAa9B,EAClD,MAAwB,kBAAV+H,IAAuBA,EAAM/F,UAAYqB,EAAKhD,MAAMmD,QAAQM,MAI5E6J,EAAA/M,UAAAO,OAAA,eAAAkC,EAAAvC,KACON,EAAAM,KAAAC,MAAEU,EAAAjB,EAAAiB,MAAOkI,EAAAnJ,EAAAmJ,SAAUhI,EAAAnB,EAAAmB,OAEnBP,EAAKN,KAAKC,MAAMM,EAEhBwM,KAiBN,OAhBApO,OAAO4E,KAAK1C,GAAQ2C,QAAQ,SAAAtE,GAC3B,IAAM+H,EAAQpG,EAAO3B,GACf8N,EAAQ9J,KACV+D,GACH/H,KAAM+H,EAAMjG,WAAaiG,EAAMjG,WAAa9B,IAGzC8N,EAASC,QACZF,EAAYtG,MAAOyG,KAAMF,IACfD,EAAYxI,SAAWwI,EAAYA,EAAYxI,OAAS,GAAG4I,OACrEJ,EAAYA,EAAYxI,OAAS,GAAG4I,OAASH,EAE7CD,EAAYtG,MAAO2G,MAAOJ,MAK3BnI,EAAA,cAAC7F,EAAA,EAAO,KACP6F,EAAA,cAAC7F,EAAA,EAAM,KACN6F,EAAA,cAAC7F,EAAA,GAAKgG,QAAM,EAAC9F,KAAK,aAAWyB,GAG9BkE,EAAA,cAAC7F,EAAA,GAAKoJ,QAASS,GACbkE,EAAY9I,IAAI,SAACoJ,EAAI/H,GACrB,OAAI+H,EAAGH,KACCrI,EAAA,qBAAK7B,IAAKsC,GACf/C,EAAK+K,YAAYD,EAAGH,OAIhBrI,EAAA,cAAC7F,EAAA,EAAKuO,OAAMvK,IAAKsC,EAAGkI,OAAO,SAChCH,EAAGD,OACH7K,EAAK+K,YAAYD,EAAGD,OAGpBC,EAAGF,QACH5K,EAAK+K,YAAYD,EAAGF,WAKvBtI,EAAA,cAAC7F,EAAA,GAAOC,MAAM,QAAQ2H,QAAS5G,KAAKe,OAAQmH,UAAWlI,KAAK8M,aAC1D9M,KAAKC,MAAMoM,QAAU/L,EAAG,cAO9BuM,EAAA/M,UAAAwN,YAAA,SAAYrG,GACX,IAAM1H,EAAQS,KAAKT,MAAMmD,QAEzB,MAA4B,oBAAjBuE,EAAMlG,OACTkG,EAAMlG,QACZxB,MAAOA,EACPE,SAAUO,KAAKP,SACfqD,aAAc9C,KAAK8C,aACnBG,MAAO1D,EAAM0H,EAAM/H,QAIjB+H,EAAM9F,QAER0D,EAAA,cAAC7F,EAAA,EAAKsI,OACLC,OAAO,EACPC,WAAW,EACXC,QAAQ,EACRvG,SAAU+F,EAAM/F,SAChBwG,QAAS1I,EAAA,EACTE,KAAM+H,EAAM/H,KACZ+B,MAAOgG,EAAMhG,MACb0G,YAAaV,EAAMhG,MACnBzB,SAAUQ,KAAK8C,aACfG,MAAO1D,EAAM0H,EAAM/H,MACnBiC,QAAS8F,EAAM9F,UAMjB0D,EAAA,cAAC7F,EAAA,EAAK4I,OACL1G,SAAU+F,EAAM/F,SAChBiB,KAAM8E,EAAM9E,KAAO8E,EAAM9E,KAAO,OAChCjD,KAAM+H,EAAM/H,KACZ+B,MAAOgG,EAAMhG,MACb0G,YAAaV,EAAMhG,MACnBzB,SAAUQ,KAAK8C,aACfG,MAAO1D,EAAM0H,EAAM/H,SAIvB2N,EArJA,CAA4BhI,EAAA,WAuJ5B/C,EAAA,EAAenD,OAAAwH,EAAA,EAAAxH,CAAU,aAAzB,CAAuCkO,ikBC1JvCY,EAAA,SAAA7N,GAIC,SAAA6N,EAAYxN,GAAZ,IAAAsC,EACC3C,EAAA4C,KAAAxC,KAAMC,IAAMD,YAEZuC,EAAKO,aAAe4K,EAAA,EAAa9K,KAAKL,EAAMA,EAAKtC,MAAM0M,kBA0GzD,OAjH4B9M,EAAA4N,EAAA7N,GAU3B6N,EAAA3N,UAAA8D,sBAAA,SAAsBC,EAAqBC,GAC1C,OAAOD,EAAU6I,SAAW1M,KAAKC,MAAMyM,QACtC7I,EAAUhD,SAAWb,KAAKC,MAAMY,QAChCgD,EAAU4I,QAAUzM,KAAKC,MAAMwM,OAGjCgB,EAAA3N,UAAAO,OAAA,eAAAkC,EAAAvC,KACON,EAAAM,KAAAC,MAAEU,EAAAjB,EAAAiB,MAAOE,EAAAnB,EAAAmB,OAAQ6L,EAAAhN,EAAAgN,OAAQD,EAAA/M,EAAA+M,MAEzBM,KAiBN,OAhBApO,OAAO4E,KAAK1C,GAAQ2C,QAAQ,SAAAtE,GAC3B,IAAM+H,EAAQpG,EAAO3B,GACf8N,EAAQ9J,KACV+D,GACH/H,KAAM+H,EAAMiE,WAAajE,EAAMiE,WAAahM,IAGzC8N,EAASC,QACZF,EAAYtG,MAAOyG,KAAMF,IACfD,EAAYxI,SAAWwI,EAAYA,EAAYxI,OAAS,GAAG4I,OACrEJ,EAAYA,EAAYxI,OAAS,GAAG4I,OAASH,EAE7CD,EAAYtG,MAAO2G,MAAOJ,MAK3BnI,EAAA,cAAC8I,EAAA,EAAO,KACP9I,EAAA,cAAC8I,EAAA,EAAM,KACN9I,EAAA,cAAC8I,EAAA,GAAKzO,KAAK,SAAS8F,QAAM,QAAKrE,GAGhCkE,EAAA,cAAC8I,EAAA,EAAI,KACHZ,EAAY9I,IAAI,SAACoJ,EAAI/H,GACrB,OAAI+H,EAAGH,KACC3K,EAAK+K,YAAYD,EAAGH,KAAMzJ,EAAA,IAAMiJ,EAAQW,EAAGH,KAAKhO,OAAQuN,GAGzD5H,EAAA,cAAC8I,EAAA,EAAKJ,OAAMvK,IAAKsC,EAAGkI,OAAO,SAChCH,EAAGD,OACH7K,EAAK+K,YAAYD,EAAGD,MAAO3J,EAAA,IAAMiJ,EAAQW,EAAGD,MAAMlO,OAAQuN,GAG1DY,EAAGF,QACH5K,EAAK+K,YAAYD,EAAGF,OAAQ1J,EAAA,IAAMiJ,EAAQW,EAAGF,OAAOjO,OAAQuN,MAI/D5H,EAAA,cAAC8I,EAAA,GACAC,OAAK,EACLC,SAAUpB,EACVqB,QAAQ,yCAObL,EAAA3N,UAAAwN,YAAA,SAAYrG,EAAwBhE,EAA0B2K,GAC7D,MAA4B,oBAAjB3G,EAAM9C,OACT8C,EAAM9C,QACZ5E,MAAOS,KAAKC,MAAMyM,OAClBjN,SAAUO,KAAKP,SACfqD,aAAc9C,KAAK8C,aACnBG,MAAOA,IAILgE,EAAM9F,SACJ8B,IACJA,MAIA4B,EAAA,cAAC8I,EAAA,EAAKrG,OACLC,OAAK,EACLC,WAAS,EACTC,QAAM,EACNsG,UAAQ,EACRrG,QAASiG,EAAA,EACTzO,KAAM+H,EAAM/H,KACZ+B,MAAOgG,EAAMhG,MACb0G,YAAaV,EAAMhG,MACnBE,QAAS8F,EAAM9F,QACf8B,MAAOA,EACP2K,MAAOA,EACPpO,SAAUQ,KAAK8C,gBAMjB+B,EAAA,cAAC8I,EAAA,EAAK/F,OACL1I,KAAM+H,EAAM/H,KACZiD,KAAM8E,EAAM9E,KAAO8E,EAAM9E,KAAO,OAChClB,MAAOgG,EAAMhG,MACb0G,YAAaV,EAAMhG,MACnBgC,MAAOA,EACP2K,MAAOA,EACPpO,SAAUQ,KAAK8C,gBAInB2K,EAjHA,CAA4B5I,EAAA,WAmH5B/C,EAAA","file":"static/js/16.f28dd40d.chunk.js","sourcesContent":["import * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Icon, Radio } from \"semantic-ui-react\"\n\nimport { AppAction, CatalogRequestAction, requestCatalog } from \"../../../actions\"\nimport { renderCatalogTypeOptions } from \"../../../components/Util\"\nimport { CatalogType, MMCRestrictItem } from \"../../../fetch\"\nimport { AppState, CatalogTypeKeys, DataTableRef } from \"../../../types\"\n\nimport DataViewFunc from \"../../../components/DataView\"\nconst DataView = DataViewFunc(\"mmc-restrict/item\", \"item.id\")\n\nconst getIcon = (ban: boolean) => (\n\t<Icon\n\t\tcolor={ban ? \"red\" : \"green\"}\n\t\tname={ban ? \"ban\" : \"check\"}\n\t/>\n)\n\nconst getEdit = (ban: MMCRestrictItem, view: DataTableRef, name: string) => (\n\t<Radio\n\t\ttoggle\n\t\tname={name}\n\t\tchecked={view.state[name]}\n\t\tonChange={() => view.setState({ [name]: !view.state[name] })}\n\t/>\n)\n\ninterface Props extends reactI18Next.InjectedTranslateProps {\n\titemTypes: CatalogType[]\n\trequestCatalog: (type: string) => CatalogRequestAction\n}\n\ninterface OwnState {\n}\n\nclass Items extends React.Component<Props, OwnState> {\n\n\tcomponentDidMount() {\n\t\tthis.props.requestCatalog(CatalogTypeKeys.Item)\n\t}\n\n\trender() {\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<DataView\n\t\t\t\tcanEdit\n\t\t\t\tcanDelete\n\t\t\t\ticon=\"ban\"\n\t\t\t\ttitle={_t(\"RestrictedItems\")}\n\t\t\t\tcreateTitle={_t(\"CreateRestrictedItem\")}\n\t\t\t\tfields={{\n\t\t\t\t\t\"item.name\": {\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\tcreateName: \"item\",\n\t\t\t\t\t\tlabel: _t(\"Item\"),\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\toptions: renderCatalogTypeOptions(this.props.itemTypes),\n\t\t\t\t\t},\n\t\t\t\t\tbanReason: {\n\t\t\t\t\t\tlabel: _t(\"Reason\"),\n\t\t\t\t\t\tcreate: true,\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t},\n\t\t\t\t\tusageBanned: {\n\t\t\t\t\t\tlabel: _t(\"Usage\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.usageBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"usageBanned\"),\n\t\t\t\t\t},\n\t\t\t\t\tbreakingBanned: {\n\t\t\t\t\t\tlabel: _t(\"Breaking\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.breakingBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"breakingBanned\"),\n\t\t\t\t\t},\n\t\t\t\t\tplacingBanned: {\n\t\t\t\t\t\tlabel: _t(\"Placing\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.placingBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"placingBanned\"),\n\t\t\t\t\t},\n\t\t\t\t\townershipBanned: {\n\t\t\t\t\t\tlabel: _t(\"Ownership\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.ownershipBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"ownershipBanned\"),\n\t\t\t\t\t},\n\t\t\t\t\tdropBanned: {\n\t\t\t\t\t\tlabel: _t(\"Drop\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.dropBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"dropBanned\"),\n\t\t\t\t\t},\n\t\t\t\t\tworldBanned: {\n\t\t\t\t\t\tlabel: _t(\"World\"),\n\t\t\t\t\t\tview: (ban: MMCRestrictItem) => getIcon(ban.worldBanned),\n\t\t\t\t\t\tedit: (ban: MMCRestrictItem, view) => getEdit(ban, view, \"worldBanned\"),\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\titemTypes: state.api.types[CatalogTypeKeys.Item],\n\t}\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppAction>) => {\n\treturn {\n\t\trequestCatalog: (type: string) => dispatch(requestCatalog(type)),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n\ttranslate(\"Integrations.MMCRestrict\")(Items)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Integrations/MMCRestrict/Items.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Header, Icon, SemanticICONS, Table } from \"semantic-ui-react\"\n\nimport { DataFieldRaw, DataTableRef, IdFunction } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nimport Pagination from \"./Pagination\"\nimport TableHeader from \"./TableHeader\"\nimport TableRow from \"./TableRow\"\n\nconst ITEMS_PER_PAGE = 20\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle?: string\n\ticon?: SemanticICONS\n\tlist: T[]\n\tcanEdit?: boolean\n\tcanDelete?: boolean\n\tfields: {\n\t\t[key: string]: DataFieldRaw<T>\n\t}\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\n\tonEdit?: (data: T | null, view: DataTableRef) => void\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\n\tonDelete?: (data: T, view: DataTableRef) => void\n\tidFunc: IdFunction<T>\n\tisEditing: (data: T) => boolean\n}\n\ninterface OwnState {\n\tpage: number\n\tnewData: any\n}\n\nclass DataTable<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.changePage = this.changePage.bind(this)\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tchangePage(event: React.MouseEvent<HTMLElement>, page: number) {\n\t\tevent.preventDefault()\n\n\t\tthis.setState({\n\t\t\tpage: page,\n\t\t})\n\t}\n\n\tonEdit(obj: T | null, view: DataTableRef): void {\n\t\tconst newData = {}\n\t\tif (obj) {\n\t\t\tObject.keys(this.props.fields).forEach(name => {\n\t\t\t\tif (!this.props.fields[name].edit) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewData[name] = _.get(obj, name)\n\t\t\t})\n\t\t}\n\n\t\tconsole.log(newData)\n\t\tthis.setState({\n\t\t\tnewData: newData,\n\t\t})\n\n\t\tif (this.props.onEdit) {\n\t\t\tthis.props.onEdit(obj, view)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.page !== this.state.page ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\trender() {\n\t\tconst { icon, title, list, canEdit, canDelete, actions } = this.props\n\t\tconst fields = Object.keys(this.props.fields).map(f => this.props.fields[f]).filter(f => f.view)\n\n\t\tconst maxPage = Math.ceil(list.length / ITEMS_PER_PAGE)\n\t\tconst page = Math.min(this.state.page, maxPage - 1)\n\n\t\tconst listPage = list.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n\t\tconst thisRef: DataTableRef = {\n\t\t\thandleChange: this.handleChange,\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: (changes: object) => this.setState({\n\t\t\t\tnewData: { ...this.state.newData, ...changes }\n\t\t\t}),\n\t\t}\n\n\t\tconst _t = this.props.t\n\n\t\treturn (\n\t\t\t<div style={{ marginTop: \"2em\" }}>\n\t\t\t\t{title &&\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Icon fitted name={icon} /> {title}\n\t\t\t\t\t</Header>\n\t\t\t\t}\n\n\t\t\t\t<Table striped={true} stackable>\n\t\t\t\t\t<TableHeader\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\thasActions={typeof actions !== \"undefined\"}\n\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\tt={_t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{listPage.map((obj, i) =>\n\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\tkey={this.props.idFunc(obj)}\n\t\t\t\t\t\t\t\tobj={obj}\n\t\t\t\t\t\t\t\ttableRef={thisRef}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tcanDelete={canDelete}\n\t\t\t\t\t\t\t\tediting={this.props.isEditing(obj)}\n\t\t\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\t\t\tonEdit={(d: T, v) => this.onEdit(d, v)}\n\t\t\t\t\t\t\t\tonSave={this.props.onSave}\n\t\t\t\t\t\t\t\tonDelete={this.props.onDelete}\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tnewData={this.state.newData}\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tt={_t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t\t<Pagination\n\t\t\t\t\tpage={page}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tchangePage={(e, p) => this.changePage(e, p)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default translate(\"DataTable\")(DataTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/index.tsx","import * as React from \"react\"\r\nimport { Menu } from \"semantic-ui-react\"\r\n\r\nexport interface Props {\r\n\tpage: number\r\n\tmaxPage: number\r\n\tchangePage: (event: React.MouseEvent<HTMLElement>, page: number) => void\r\n}\r\n\r\nexport default class Pagination extends React.Component<Props> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props, nextState: any) {\r\n\t\treturn nextProps.page !== this.props.page ||\r\n\t\t\tnextProps.maxPage !== this.props.maxPage\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.maxPage <= 1) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst { page, maxPage } = this.props\r\n\t\tconst from = Math.max(0, page - 4)\r\n\t\tconst to = Math.min(maxPage, page + 5)\r\n\t\tconst pages = []\r\n\t\tfor (let i = from; i < to; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Menu pagination>\r\n\t\t\t\t{ page > 4 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, 0)}>\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page > 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page - 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ pages.map(p => (\r\n\t\t\t\t\t<Menu.Item key={p} onClick={e => this.props.changePage(e, p)} active={p === page}>\r\n\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t))}\r\n\t\t\t\t{ page < maxPage - 6 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, page + 5)}>\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t\t{ page < maxPage - 5 ?\r\n\t\t\t\t\t<Menu.Item onClick={e => this.props.changePage(e, maxPage - 1)}>\r\n\t\t\t\t\t\t{maxPage}\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t: null }\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/Pagination.tsx","import * as React from \"react\"\r\nimport { Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw } from \"../../types\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\thasActions: boolean\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n}\r\n\r\nexport default class DataTableHeader<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.fields !== this.props.fields\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t{Object.keys(this.props.fields).map(name => {\r\n\t\t\t\t\t\tconst field = this.props.fields[name]\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Table.HeaderCell key={name}>\r\n\t\t\t\t\t\t\t\t{field.label ? field.label : \"<\" + field.name + \">\"}\r\n\t\t\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.props.hasActions || this.props.canEdit || this.props.canDelete ?\r\n\t\t\t\t\t\t<Table.HeaderCell>{this.props.t(\"Actions\")}</Table.HeaderCell>\r\n\t\t\t\t\t: null}\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableHeader.tsx","import * as React from \"react\"\r\nimport { Button, Dropdown, Form, Icon, Table } from \"semantic-ui-react\"\r\n\r\nimport { DataFieldRaw, DataTableRef } from \"../../types\"\r\nimport { get, HandleChangeFunc } from \"../Util\"\r\n\r\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\r\n\tobj: T\r\n\ttableRef: DataTableRef\r\n\tcanEdit?: boolean\r\n\tcanDelete?: boolean\r\n\tediting: boolean\r\n\tfields: DataFieldRaw<T>[]\r\n\tonEdit: (data: T | null, view: DataTableRef) => void\r\n\tonSave?: (data: T, newData: any, view: DataTableRef) => void\r\n\tonDelete?: (data: T, view: DataTableRef) => void\r\n\tactions?: (data: T, view: DataTableRef) => JSX.Element\r\n\thandleChange: HandleChangeFunc\r\n\tnewData: any\r\n}\r\n\r\nexport default class TableRow<T> extends React.Component<Props<T>> {\r\n\r\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\r\n\t\treturn nextProps.obj !== this.props.obj ||\r\n\t\t\tnextProps.editing !== this.props.editing ||\r\n\t\t\tnextProps.fields !== this.props.fields ||\r\n\t\t\t(this.props.editing && nextProps.newData !== this.props.newData)\r\n\t}\r\n\r\n\trenderEdit(obj: T, col: DataFieldRaw<T>) {\r\n\t\tif (col.options) {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Field\r\n\t\t\t\t\tfluid\r\n\t\t\t\t\tselection\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\tcontrol={Dropdown}\r\n\t\t\t\t\tname={col.name}\r\n\t\t\t\t\tplaceholder={col.label}\r\n\t\t\t\t\toptions={col.options}\r\n\t\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Form.Input\r\n\t\t\t\tname={col.name}\r\n\t\t\t\ttype={col.type ? col.type : \"text\"}\r\n\t\t\t\tplaceholder={col.label}\r\n\t\t\t\tvalue={this.props.newData[col.name]}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actions, fields, obj, canEdit, canDelete, editing, tableRef } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Table.Row>\r\n\t\t\t\t{fields.map((field, j) =>\r\n\t\t\t\t\t<Table.Cell key={j} collapsing={!field.wide}>\r\n\t\t\t\t\t\t{field.edit && editing ?\r\n\t\t\t\t\t\t\t(typeof field.edit === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.edit(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tthis.renderEdit(obj, field)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(typeof field.view === \"function\" ?\r\n\t\t\t\t\t\t\t\tfield.view(obj, tableRef)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tget(obj, field.name)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t)}\r\n\t\t\t\t{actions || canEdit || canDelete ?\r\n\t\t\t\t\t<Table.Cell collapsing>\r\n\t\t\t\t\t\t{canEdit && editing ?\r\n\t\t\t\t\t\t\t[<Button\r\n\t\t\t\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onSave) { this.props.onSave(obj, this.props.newData, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"save\" /> {this.props.t(\"Save\")}\r\n\t\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\t\t\tcolor=\"yellow\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(null, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"cancel\" /> {this.props.t(\"Cancel\")}\r\n\t\t\t\t\t\t\t</Button>]\r\n\t\t\t\t\t\t: canEdit ?\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onEdit(obj, tableRef)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"edit\" /> {this.props.t(\"Edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t{canDelete &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tdisabled={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tloading={(obj as any).updating}\r\n\t\t\t\t\t\t\t\tonClick={() => { if (this.props.onDelete) { this.props.onDelete(obj, tableRef) }}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon name=\"trash\" /> {this.props.t(\"Remove\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{actions && actions(obj, tableRef)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t: null}\r\n\t\t\t</Table.Row>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataTable/TableRow.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Dispatch } from \"redux\"\nimport { Grid, Segment } from \"semantic-ui-react\"\n\nimport { AppAction } from \"../../actions\"\nimport {\n\trequestChange, requestCreate, requestDelete, requestDetails, requestList,\n\tsetFilter\n} from \"../../actions/dataview\"\nimport { DataViewState } from \"../../reducers/dataview\"\nimport { AppState, DataFieldRaw, DataTableRef, DataViewRef, IdFunction } from \"../../types\"\nimport CreateForm from \"../CreateForm\"\nimport DataTable, { Props as DataTableProps } from \"../DataTable\"\nimport FilterForm from \"../FilterForm\"\nimport { checkPermissions } from \"../Util\"\n\nimport { DispatchProps, FullProps, OwnProps, OwnState, StateProps } from \"./types\"\n\nclass DataView<T> extends React.Component<FullProps<T>, OwnState<T>> {\n\n\tinterval: NodeJS.Timer\n\n\tconstructor(props: FullProps<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpage: 0,\n\t\t\tdata: null,\n\t\t}\n\n\t\tthis.details = this.details.bind(this)\n\t\tthis.create = this.create.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.endEdit = this.endEdit.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t}\n\n\tcreateTable() { return DataTable as React.ComponentClass<DataTableProps<T>> }\n\n\tcomponentDidMount() {\n\t\tif (!this.props.static) {\n\t\t\tthis.props.requestList()\n\t\t\tthis.interval = setInterval(this.props.requestList, 10000)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval) {\n\t\t\tclearInterval(this.interval)\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps: FullProps<T>, nextState: OwnState<T>) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.filter !== this.props.filter ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.list !== this.props.list ||\n\t\t\tnextState.data !== this.state.data\n\t}\n\n\t// Create a new data entry\n\tcreate(data: T) {\n\t\tthis.props.requestCreate(data)\n\t}\n\n\t// Get the details for a data entry\n\tdetails(data: T) {\n\t\tthis.props.requestDetails(data)\n\t}\n\n\t// Select a data entry for editing\n\tedit(data: T | null) {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t})\n\t}\n\n\t// Save/Update an existing data entry\n\tsave(data: T, newData: any) {\n\t\tthis.props.requestChange(data, newData)\n\t\tthis.endEdit()\n\t}\n\n\t// End editing an entry\n\tendEdit() {\n\t\tthis.setState({\n\t\t\tdata: null,\n\t\t})\n\t}\n\n\t// Delete a data entry\n\tdelete(data: T) {\n\t\tthis.props.requestDelete(data)\n\t}\n\n\trender() {\n\t\tconst checks: ((val: T) => boolean)[] = []\n\t\tlet regsValid = false\n\n\t\t// Reference that we pass to our various functions\n\t\tconst expandRef = (tableRef: DataTableRef): DataViewRef<T> =>\n\t\t\t({\n\t\t\t\t...tableRef,\n\t\t\t\tcreate: this.create,\n\t\t\t\tdetails: this.details,\n\t\t\t\tsave: this.save,\n\t\t\t\tedit: this.edit,\n\t\t\t\tendEdit: this.endEdit,\n\t\t\t\tdelete: this.delete,\n\t\t\t})\n\n\t\t// Get all the fields of the table\n\t\tconst fields: { [x: string]: DataFieldRaw<T> } = _.mapValues(this.props.fields, (value, name) => {\n\t\t\tlet val: DataFieldRaw<T> = {\n\t\t\t\tname: name,\n\t\t\t\tview: true\n\t\t\t}\n\n\t\t\t// If the column is a string use that as the label\n\t\t\t// If the column is a function, use that function to display the cell\n\t\t\t// else if the column provides a view function then use that to display the cell\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tval.label = value\n\t\t\t} else if (typeof value === \"function\") {\n\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => value(obj, expandRef(tableRef))\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tval = { ...val, ...value }\n\t\t\t\tif (typeof value.view === \"function\") {\n\t\t\t\t\tconst func = value.view\n\t\t\t\t\tval.view = (obj: T, tableRef: DataTableRef) => func(obj, expandRef(tableRef))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn val\n\t\t})\n\n\t\t// Get all the fields for the create form\n\t\t// Get all the fields for the filter form\n\t\tconst createFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tconst filterFields: { [x: string]: DataFieldRaw<T> } = {}\n\t\tObject.keys(fields).forEach(f => {\n\t\t\tif (fields[f].create) { createFields[f] = fields[f] }\n\t\t\tif (fields[f].filter) { filterFields[f] = fields[f] }\n\t\t})\n\n\t\ttry {\n\t\t\tObject.keys(this.props.filter).forEach(name => {\n\t\t\t\tconst value = this.props.filter[name]\n\n\t\t\t\t// Get the filter field according to the filterName if specified,\n\t\t\t\t// otherwise just the name\n\t\t\t\tconst ff = Object.keys(filterFields).map(f => filterFields[f]).find(f => f.filterName === name)\n\t\t\t\t\t|| filterFields[name]\n\n\t\t\t\t// If we have a filterValue function then use that as the value for the check\n\t\t\t\tlet val = (dataVal: T) => _.get(dataVal, name)\n\t\t\t\tif (typeof ff.filterValue === \"function\") {\n\t\t\t\t\tval = ff.filterValue\n\t\t\t\t}\n\n\t\t\t\t// If it is an array then we need to check if the value is in the array\n\t\t\t\t// Otherwise just use a normal regex check\n\t\t\t\tif (_.isArray(value)) {\n\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tchecks.push((dataVal: T) => {\n\t\t\t\t\t\tconst v = val(dataVal)\n\t\t\t\t\t\treturn value.indexOf(v) >= 0\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tchecks.push((dataVal: T) => (new RegExp(value, \"i\")).test(val(dataVal)))\n\t\t\t\t}\n\t\t\t})\n\t\t\tregsValid = true\n\t\t} catch {\n\t\t\tregsValid = false\n\t\t}\n\n\t\t// Filter out the values according to the filters\n\t\t// If the regex isn't valid then we don't want to filter\n\t\tconst list = this.props.list.filter(data => {\n\t\t\treturn !regsValid || checks.every(check => check(data))\n\t\t})\n\n\t\t// Check how many columns we need for the create and filter form\n\t\tconst cols = this.props.createTitle && this.props.filterTitle ? 2 : 1\n\n\t\t// Wrap the provided actions if we have any\n\t\tconst origActions = this.props.actions\n\t\tlet actions = origActions\n\t\tif (typeof origActions === \"function\") {\n\t\t\tactions = (obj, tableRef) => origActions(obj, expandRef(tableRef))\n\t\t}\n\n\t\tconst DT = this.createTable()\n\n\t\treturn (\n\t\t\t<Segment basic>\n\n\t\t\t\t<Grid stackable doubling columns={cols}>\n\t\t\t\t\t{this.props.createTitle &&\n\t\t\t\t\t\tcheckPermissions(this.props.perms, this.props.perm.concat(\"create\")) &&\n\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<CreateForm\n\t\t\t\t\t\t\t\ttitle={this.props.createTitle}\n\t\t\t\t\t\t\t\tbutton={this.props.createButton}\n\t\t\t\t\t\t\t\tcreating={this.props.creating}\n\t\t\t\t\t\t\t\tfields={createFields}\n\t\t\t\t\t\t\t\tonCreate={(obj: any, tableRef: DataTableRef) =>\n\t\t\t\t\t\t\t\t\tthis.props.onCreate ?\n\t\t\t\t\t\t\t\t\t\tthis.props.onCreate(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tthis.create(obj)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.props.filterTitle &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<FilterForm\n\t\t\t\t\t\t\t\ttitle={this.props.filterTitle}\n\t\t\t\t\t\t\t\tfields={filterFields}\n\t\t\t\t\t\t\t\tvalid={regsValid}\n\t\t\t\t\t\t\t\tvalues={this.props.filter}\n\t\t\t\t\t\t\t\tonFilterChange={this.props.setFilter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<DT\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tt={this.props.t}\n\t\t\t\t\tidFunc={this.props.idFunc}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tonEdit={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onEdit ?\n\t\t\t\t\t\t\tthis.props.onEdit(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.edit(obj)\n\t\t\t\t\t}\n\t\t\t\t\tonSave={(obj, newObj, tableRef) =>\n\t\t\t\t\t\tthis.props.onSave ?\n\t\t\t\t\t\t\tthis.props.onSave(obj, newObj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.save(obj, newObj)\n\t\t\t\t\t}\n\t\t\t\t\tonDelete={(obj, tableRef) =>\n\t\t\t\t\t\tthis.props.onDelete ?\n\t\t\t\t\t\t\tthis.props.onDelete(obj, expandRef(tableRef))\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tthis.delete(obj)\n\t\t\t\t\t}\n\t\t\t\t\tcanEdit={this.props.canEdit && checkPermissions(this.props.perms, this.props.perm.concat(\"change\"))}\n\t\t\t\t\tcanDelete={this.props.canDelete && checkPermissions(this.props.perms, this.props.perm.concat(\"delete\"))}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tisEditing={obj => this.props.equals(obj, this.state.data)}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps<T>(endpoint: string, id: IdFunction<T>) {\n\treturn (_state: AppState, ownProps: OwnProps<T>) => {\n\t\tconst state: DataViewState<T> = _.get(_state, endpoint.replace(/\\//g, \"_\").replace(\"-\", \"\"))\n\n\t\treturn {\n\t\t\tcreating: state ? state.creating : false,\n\t\t\tfilter: state && state.filter ? state.filter : {},\n\t\t\tlist: state ? state.list : [],\n\t\t\ttypes: _state.api.types,\n\t\t\tidFunc: id,\n\t\t\tperm: endpoint.split(\"/\"),\n\t\t\tperms: _state.api.permissions,\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps<T>(endpoint: string, id: IdFunction<T>, noDetails: boolean) {\n\treturn (dispatch: Dispatch<AppAction>) => {\n\t\treturn {\n\t\t\trequestList: () => dispatch(requestList(endpoint, !noDetails)),\n\t\t\trequestDetails: (data: T) => dispatch(requestDetails(endpoint, id, data)),\n\t\t\trequestCreate: (data: T) => dispatch(requestCreate(endpoint, id, data)),\n\t\t\trequestChange: (data: T, newData: object) => dispatch(requestChange(endpoint, id, data, newData)),\n\t\t\trequestDelete: (data: T) => dispatch(requestDelete(endpoint, id, data)),\n\t\t\tsetFilter: (filter: string, value: string) => dispatch(setFilter(endpoint, filter, value)),\n\t\t\tequals: (o1: T, o2: T) => o1 != null && o2 != null && id(o1) === id(o2),\n\t\t}\n\t}\n}\n\nexport default function createDataView<T>(endpoint: string, objId: string | IdFunction<T>, noDetails?: boolean) {\n\tif (!objId) {\n\t\tobjId = \"id\"\n\t}\n\tconst id = typeof objId === \"function\" ? objId : (data: T) => _.get(data, objId as string)\n\n\treturn connect<StateProps<T>, DispatchProps<T>, OwnProps<T>, AppState>(\n\t\tmapStateToProps<T>(endpoint, id),\n\t\tmapDispatchToProps<T>(endpoint, id, noDetails ? true : false)\n\t)(DataView)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DataView/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { translate } from \"react-i18next\"\nimport { Button, Dropdown, Form, Header, Icon, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw, DataTableRef } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> extends reactI18Next.InjectedTranslateProps {\n\ttitle: string\n\tcreating: boolean\n\tonCreate: (data: any, view: DataTableRef) => void\n\tbutton?: string\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n}\n\ninterface OwnState {\n\tnewData: any\n}\n\nclass CreateForm<T> extends React.Component<Props<T>, OwnState> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tnewData: {},\n\t\t}\n\n\t\tthis.doHandleChange = this.doHandleChange.bind(this)\n\t\tthis.handleChange = handleChange.bind(this, this.doHandleChange)\n\t\tthis.create = this.create.bind(this)\n\t}\n\n\tdoHandleChange(key: string, value: string) {\n\t\tthis.setState({\n\t\t\tnewData: {\n\t\t\t\t...this.state.newData,\n\t\t\t\t[key]: value\n\t\t\t}\n\t\t})\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: OwnState) {\n\t\treturn nextProps.creating !== this.props.creating ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextState.newData !== this.state.newData\n\t}\n\n\tcreate() {\n\t\tconst data = {}\n\t\tObject.keys(this.state.newData).forEach(key => {\n\t\t\t_.set(data, key, this.state.newData[key])\n\t\t})\n\n\t\tthis.props.onCreate(data, {\n\t\t\tstate: this.state.newData,\n\t\t\tsetState: this.setState,\n\t\t\thandleChange: this.handleChange,\n\t\t})\n\t}\n\n\tcanCreate(): boolean {\n\t\treturn Object.keys(this.props.fields).every(name => {\n\t\t\tconst field = this.props.fields[name]\n\t\t\tconst key = field.createName ? field.createName : name\n\t\t\treturn typeof field === \"string\" || !field.required || this.state.newData[key]\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { title, creating, fields } = this.props\n\n\t\tconst _t = this.props.t\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.createName ? field.createName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon fitted name=\"plus\" /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form loading={creating}>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn <div key={i}>\n\t\t\t\t\t\t\t\t{this.renderField(fg.only)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Button color=\"green\" onClick={this.create} disabled={!this.canCreate()}>\n\t\t\t\t\t\t{this.props.button || _t(\"Create\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>) {\n\t\tconst state = this.state.newData\n\n\t\tif (typeof field.create === \"function\") {\n\t\t\treturn field.create({\n\t\t\t\tstate: state,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: state[field.name],\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid={true}\n\t\t\t\t\tselection={true}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\trequired={field.required}\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tvalue={state[field.name]}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\trequired={field.required}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tname={field.name}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tvalue={state[field.name]}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default translate(\"CreateForm\")(CreateForm)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateForm/index.tsx","import * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { Dropdown, Form, Header, Icon, Message, Segment } from \"semantic-ui-react\"\n\nimport { DataFieldGroup, DataFieldRaw } from \"../../types\"\nimport { handleChange, HandleChangeFunc } from \"../Util\"\n\nexport interface Props<T> {\n\ttitle: string\n\tvalid: boolean\n\tfields: {\n\t\t[x: string]: DataFieldRaw<T>\n\t}\n\tvalues: {\n\t\t[x: string]: string | string[]\n\t}\n\tonFilterChange: (key: string, value: string) => void\n}\n\nclass FilterForm<T> extends React.Component<Props<T>> {\n\n\thandleChange: HandleChangeFunc\n\n\tconstructor(props: Props<T>) {\n\t\tsuper(props)\n\n\t\tthis.handleChange = handleChange.bind(this, this.props.onFilterChange)\n\t}\n\n\tshouldComponentUpdate(nextProps: Props<T>, nextState: any) {\n\t\treturn nextProps.values !== this.props.values ||\n\t\t\tnextProps.fields !== this.props.fields ||\n\t\t\tnextProps.valid !== this.props.valid\n\t}\n\n\trender() {\n\t\tconst { title, fields, values, valid } = this.props\n\n\t\tconst fieldGroups: DataFieldGroup<T>[] = []\n\t\tObject.keys(fields).forEach(name => {\n\t\t\tconst field = fields[name]\n\t\t\tconst newField: DataFieldRaw<T> = {\n\t\t\t\t...field,\n\t\t\t\tname: field.filterName ? field.filterName : name,\n\t\t\t}\n\n\t\t\tif (newField.isGroup) {\n\t\t\t\tfieldGroups.push({ only: newField })\n\t\t\t} else if (fieldGroups.length && !fieldGroups[fieldGroups.length - 1].second) {\n\t\t\t\tfieldGroups[fieldGroups.length - 1].second = newField\n\t\t\t} else {\n\t\t\t\tfieldGroups.push({ first: newField })\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Header>\n\t\t\t\t\t<Icon name=\"filter\" fitted /> {title}\n\t\t\t\t</Header>\n\n\t\t\t\t<Form>\n\t\t\t\t\t{fieldGroups.map((fg, i) => {\n\t\t\t\t\t\tif (fg.only) {\n\t\t\t\t\t\t\treturn this.renderField(fg.only, _.get(values, fg.only.name), !valid)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <Form.Group key={i} widths=\"equal\">\n\t\t\t\t\t\t\t{fg.first &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.first, _.get(values, fg.first.name), !valid)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{fg.second &&\n\t\t\t\t\t\t\t\tthis.renderField(fg.second, _.get(values, fg.second.name), !valid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t})}\n\t\t\t\t\t<Message\n\t\t\t\t\t\terror\n\t\t\t\t\t\tvisible={!valid}\n\t\t\t\t\t\tcontent=\"Search term must be a valid regex\"\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n\n\trenderField(field: DataFieldRaw<T>, value: string | string[], error: boolean) {\n\t\tif (typeof field.filter === \"function\") {\n\t\t\treturn field.filter({\n\t\t\t\tstate: this.props.values,\n\t\t\t\tsetState: this.setState,\n\t\t\t\thandleChange: this.handleChange,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t}\n\n\t\tif (field.options) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = []\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Field\n\t\t\t\t\tfluid\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tmultiple\n\t\t\t\t\tcontrol={Dropdown}\n\t\t\t\t\tname={field.name}\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tplaceholder={field.label}\n\t\t\t\t\toptions={field.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\terror={error}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Form.Input\n\t\t\t\tname={field.name}\n\t\t\t\ttype={field.type ? field.type : \"text\"}\n\t\t\t\tlabel={field.label}\n\t\t\t\tplaceholder={field.label}\n\t\t\t\tvalue={value}\n\t\t\t\terror={error}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default FilterForm\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FilterForm/index.tsx"],"sourceRoot":""}